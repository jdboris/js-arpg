!function(t,e){
    "object"==typeof exports && "object"==typeof module ? 
        module.exports=e()
    :
        "function"==typeof define && define.amd ?
            define([],e)
        :
            "object"==typeof exports ?
                exports.rexuiplugin=e()
            :
                t.rexuiplugin=e();

}(window,function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=247)}([function(t,e){t.exports=function(t,e,i){if(t&&"number"!=typeof t){if(t.hasOwnProperty(e))return t[e];if(-1!==e.indexOf(".")){for(var s=e.split("."),r=t,n=i,h=0;h<s.length;h++){if(!r.hasOwnProperty(s[h])){n=i;break}n=r[s[h]],r=r[s[h]]}return n}return i}return i}},function(t,e,i){"use strict";e.a={hleft:0,hcenter:1,hright:2,vtop:0,vcenter:1,vbottom:2,NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,SPLITREGEXP:/(?:\r\n|\r|\n)/}},function(t,e,i){"use strict";const s=Phaser.Scene;var r=function(t){return t instanceof s};e.a=function(t){return r(t)?t:t.scene&&r(t.scene)?t.scene:t.parent&&t.parent.scene&&r(t.parent.scene)?t.parent.scene:void 0}},function(t,e,i){"use strict";var s=function(t){return null==t||""===t||0===t.length};e.a=function(t,e,i){if("object"==typeof t)if(s(e)){if(null==i)return;"object"==typeof i&&(t=i)}else{"string"==typeof e&&(e=e.split("."));var r=e.pop();((function(t,e,i){void 0===i&&(i={});var r=t;if(s(e));else{var n;"string"==typeof e&&(e=e.split("."));for(var h=0,o=e.length;h<o;h++){var a;null!=r[n=e[h]]&&"object"==typeof r[n]||(a=h===o-1?i:{},r[n]=a),r=r[n]}}return r})(t,e))[r]=i}}},,function(t,e,i){"use strict";e.a={setEventEmitter(t,e){return void 0===e&&(e=Phaser.Events.EventEmitter),this._privateEE=void 0===t,this._eventEmitter=this._privateEE?new e:t,this},destroyEventEmitter(){this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown()},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(){return this._eventEmitter&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]}}},function(t,e,i){"use strict";e.a=function(t){if(Array.isArray(t))t.length=0;else for(var e in t)delete t[e]}},,function(t,e,i){"use strict";var s=i(5);const r=Phaser.Utils.Objects.GetValue;class n{constructor(t,e){this.parent=t,this._isRunning=!1,this.tickingState=!1,this.setEventEmitter(r(e,"eventEmitter",void 0)),this.setTickingMode(r(e,"tickingMode",1))}boot(){2!==this.tickingMode||this.tickingState||this.startTicking()}shutdown(){this.destroyEventEmitter(),this.tickingState&&this.stopTicking()}setTickingMode(t){"string"==typeof t&&(t=h[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,1===this.tickingMode&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isRunning=!0,this}pause(){return this.isRunning=!1,this}resume(){return this.isRunning=!0,this}stop(){return this.isRunning=!1,this}complete(){this.isRunning=!1,0!==this.tickingMode&&this.emit("complete",this.parent,this)}}Object.assign(n.prototype,s.a);const h={no:0,lazy:1,always:2};e.a=n},function(t,e,i){"use strict";i.r(e);e.default=function(){}},function(t,e,i){"use strict";var s=i(6);e.a=function(t,e){var i=Array.isArray(t);for(var r in void 0===e?e=i?[]:{}:Object(s.a)(e),i&&(e.length=t.length),t)e[r]=t[r];return e}},function(t,e,i){"use strict";var s=class{constructor(){this.items=[]}pop(){return this.items.length>0?this.items.pop():null}push(t){this.items.push(t)}pushMultiple(t){for(var e=0,i=t.length;e<i;e++)this.items.push(t[e]);t.length=0}};e.a=s},function(t,e){const i=Math.PI/180;t.exports=function(t){return t*i}},function(t,e,i){"use strict";var s=i(5),r=i(0),n=i.n(r);class h{constructor(t){var e=n()(t,"states",void 0);e&&this.addStates(e);var i=n()(t,"extend",void 0);if(i)for(var s in i)this.hasOwnProperty(s)&&void 0!==this[s]||(this[s]=i[s]);var r=n()(t,"eventEmitter",void 0),h=n()(t,"EventEmitterClass",void 0);this.setEventEmitter(r,h),this._stateLock=!1,this.resetFromJSON(t)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(t){this.setEnable(n()(t,"enable",!0)),this.start(n()(t,"start",void 0));var e=n()(t,"init",void 0);return e&&e.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return void 0===t&&(t=!0),this.enable=t,this}set state(t){if(this.enable&&!this._stateLock&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),null!=this._prevState){var e="exit_"+this._prevState,i=this[e];i&&i.call(this),this.emit(e,this)}if(this._stateLock=!1,null!=this._state){var s="enter_"+this._state,r=this[s];r&&r.call(this),this.emit(s,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return null!=t&&(this.state=t),this}next(){var t,e=this["next_"+this.state];return e&&(t="string"==typeof e?e:e.call(this)),this.goto(t),this}addState(t,e){var i=n()(e,"next",void 0);i&&(this["next_"+t]=i);var s=n()(e,"exit",void 0);s&&(this["exit_"+t]=s);var r=n()(e,"enter",void 0);return r&&(this["enter_"+t]=r),this}addStates(t){for(var e in t)this.addState(e,t[e]);return this}update(t,e,i){void 0===i&&(i="update");var s=this[i+"_"+this.state];s&&s.call(this,t,e)}preupdate(t,e){this.update(t,e,"preupdate")}postupdate(t,e){this.update(t,e,"postupdate")}}Object.assign(h.prototype,s.a);var o=h;e.a=o},,,,,,function(t,e,i){"use strict";var s=i(9),r=new Phaser.GameObjects.Zone({sys:{queueDepthSort:s.default,events:{once:s.default}}},0,0,1,1);r.setOrigin(0),e.a=r},,,,,function(t,e,i){"use strict";const s=Phaser.Display.Canvas.CanvasPool;var r={},n=function(t){var e=s.create(this),i=e.getContext("2d");t.syncFont(e,i);var n=Math.ceil(i.measureText(t.testString).width*t.baselineX),h=n,o=2*h;h=h*t.baselineY|0,e.width=n,e.height=o,i.fillStyle="#f00",i.fillRect(0,0,n,o),i.font=t._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(t.testString,0,h);var a=r;if(!i.getImageData(0,0,n,o))return a.ascent=h,a.descent=h+6,a.fontSize=a.ascent+a.descent,s.remove(e),a;var l,d,c=i.getImageData(0,0,n,o).data,u=c.length,p=4*n,g=0,v=!1;for(l=0;l<h;l++){for(d=0;d<p;d+=4)if(255!==c[g+d]){v=!0;break}if(v)break;g+=p}for(a.ascent=h-l,g=u-p,v=!1,l=o;l>h;l--){for(d=0;d<p;d+=4)if(255!==c[g+d]){v=!0;break}if(v)break;g-=p}return a.descent=l-h,a.fontSize=a.ascent+a.descent,s.remove(e),a},h=i(1);const o=Phaser.Utils.Objects.GetAdvancedValue,a=Phaser.Utils.Objects.GetValue;var l={backgroundColor:["backgroundColor",null],fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],underlineColor:["underline.color","#000"],underlineThickness:["underline.thickness",0],underlineOffset:["underline.offset",0],halign:["halign",0],valign:["valign",0],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],lineSpacing:["lineSpacing",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wrapMode:["wrap.mode",1],wrapWidth:["wrap.width",0]};const d={left:h.a.hleft,center:h.a.hcenter,right:h.a.hright},c={top:h.a.vtop,center:h.a.vcenter,bottom:h.a.vbottom},u={none:h.a.NO_WRAP,word:h.a.WORD_WRAP,char:h.a.CHAR_WRAP,character:h.a.CHAR_WRAP};e.a=class{constructor(t,e){this.parent=t,this.backgroundColor,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.lineSpacing,this.rtl,this.testString,this.baselineX,this.baselineY,this._font,this.setStyle(e,!1);var i=a(e,"metrics",!1);this.metrics=i?{ascent:a(i,"ascent",0),descent:a(i,"descent",0),fontSize:a(i,"fontSize",0)}:n(this)}setStyle(t,e){if(void 0===e&&(e=!0),t&&t.hasOwnProperty("halign")&&"string"==typeof t.halign&&(t.halign=d[t.halign.toLowerCase()]||0),t&&t.hasOwnProperty("valign")&&"string"==typeof t.valign&&(t.valign=c[t.valign.toLowerCase()]||0),t&&t.hasOwnProperty("wrap")){var i=t.wrap;if(i.hasOwnProperty("mode")){var s=i.mode;"string"==typeof s&&(i.mode=u[s])}else i.hasOwnProperty("width")&&(i.mode=1)}for(var r in t&&t.hasOwnProperty("fontSize")&&"number"==typeof t.fontSize&&(t.fontSize=t.fontSize.toString()+"px"),l)this[r]="wrapCallback"===r||"wrapCallbackScope"===r?a(t,l[r][0],l[r][1]):o(t,l[r][0],l[r][1]);var n=a(t,"font",null);this._font=null===n?this.fontStyle+" "+this.fontSize+" "+this.fontFamily:n;var h=a(t,"fill",null);return null!==h&&(this.color=h),e?this.update(!0):this.parent}syncFont(t,e){e.font=this._font}syncStyle(t,e){e.textBaseline="alphabetic",e.fillStyle=this.color,e.strokeStyle=this.stroke,e.lineWidth=this.strokeThickness,e.lineCap="round",e.lineJoin="round"}syncShadow(t,e){e?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily,this.metrics=n(this)),this.parent.updateText(t)}buildFont(){var t=this.fontStyle+" "+this.fontSize+" "+this.fontFamily;return t!==this._font&&(this._font=t),this}setFont(t){return"string"==typeof t?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=a(t,"fontFamily","Courier"),this.fontSize=a(t,"fontSize","16px"),this.fontStyle=a(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return"number"==typeof t&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,e){return this.fixedWidth=t,this.fixedHeight=e,t&&(this.parent.width=t),e&&(this.parent.height=e),this.update(!1)}setResolution(t){return this.resolution=t,this.update(!1)}setLineSpacing(t){return this.lineSpacing=t,this.update(!1)}setBackgroundColor(t){return this.backgroundColor=t,this.update(!1)}setFill(t){return this.color=t,this.update(!1)}setColor(t){return this.color=t,this.update(!1)}setStroke(t,e){return void 0===t?this.strokeThickness=0:(void 0===e&&(e=this.strokeThickness),this.stroke=t,this.strokeThickness=e),this.update(!0)}setShadow(t,e,i,s,r,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i="#000"),void 0===s&&(s=0),void 0===r&&(r=!1),void 0===n&&(n=!0),this.shadowOffsetX=t,this.shadowOffsetY=e,this.shadowColor=i,this.shadowBlur=s,this.shadowStroke=r,this.shadowFill=n,this.update(!1)}setShadowOffset(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.shadowOffsetX=t,this.shadowOffsetY=e,this.update(!1)}setShadowColor(t){return void 0===t&&(t="#000"),this.shadowColor=t,this.update(!1)}setShadowBlur(t){return void 0===t&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,e,i){return void 0===t&&(t="#000"),void 0===e&&(e=0),void 0===i&&(i=0),this.underlineColor=t,this.underlineThickness=e,this.underlineOffset=i,this.update(!1)}setUnderlineColor(t){return void 0===t&&(t="#000"),this.underlineColor=t,this.update(!1)}setUnderlineThickness(t){return void 0===t&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return void 0===t&&(t=0),this.underlineOffset=t,this.update(!1)}setWrapMode(t){return"string"==typeof t&&(t=u[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){return this.wrapWidth=t,this.update(!1)}setAlign(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),"string"==typeof t&&(t=d[t.toLowerCase()]||0),"string"==typeof e&&(e=d[e.toLowerCase()]||0),this.halign=t,this.valign=e,this.update(!1)}setHAlign(t){return void 0===t&&(t=0),"string"==typeof t&&(t=d[t.toLowerCase()]||0),this.halign=t,this.update(!1)}setVAlign(t){return void 0===t&&(t=0),"string"==typeof t&&(t=d[t.toLowerCase()]||0),this.valign=t,this.update(!1)}setMaxLines(t){return void 0===t&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}get lineHeight(){return this.metrics.fontSize+this.strokeThickness+this.lineSpacing}toJSON(){var t={};for(var e in l)t[e]=this[e];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}}},,function(t,e,i){"use strict";var s={add(t){return Array.isArray(t)?this.addMultiple(t):this._add(t),this},addMultiple(t){return t.forEach(this._add,this),this},_add(t){return this.children.add(t),this.resetChildState(t).updateChildVisible(t).updateChildActive(t).updateChildScrollFactor(t).updateChildMask(t),this}},r={remove(t){return this.children.remove(t),this},clear(){return this.children.clear(),this}},n={getLocalState:t=>(t.hasOwnProperty("rexContainer")||(t.rexContainer={}),t.rexContainer),resetChildState(t){return this.resetChildPositionState(t).resetChildVisibleState(t).resetChildAlphaState(t).resetChildActiveState(t),this},resetChildrenState(t){for(var e=0,i=t.length;e<i;e++)this.resetChildState(t[e]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}};const h=Phaser.Math.RotateAround;var o={worldToLocal(t){return t.x-=this.x,t.y-=this.y,h(t,0,0,-this.rotation),t.x/=this.scaleX,t.y/=this.scaleY,t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t},localToWorld(t){return t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t.x*=this.scaleX,t.y*=this.scaleY,h(t,0,0,this.rotation),t.x+=this.x,t.y+=this.y,t}},a=function(t,e){return t===e?1:t/e},l={updateChildPosition(t){t.isRexContainerLite&&(t.syncChildrenEnable=!1);var e=this.getLocalState(t);return t.x=e.x,t.y=e.y,this.localToWorld(t),t.scaleX=e.scaleX*this.scaleX,t.scaleY=e.scaleY*this.scaleY,void 0!==t.flipX&&(t.flipX=this.flipX?!e.flipX:e.flipX,t.flipY=this.flipY?!e.flipY:e.flipY),t.rotation=e.rotation+this.rotation,t.isRexContainerLite&&(t.syncChildrenEnable=!0,t.syncPosition()),this},syncPosition(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildPosition,this),this},resetChildPositionState(t){var e=this.getLocalState(t);return e.x=t.x,e.y=t.y,this.worldToLocal(e),e.scaleX=a(t.scaleX,this.scaleX),e.scaleY=a(t.scaleY,this.scaleY),void 0!==t.flipX&&(e.flipX=t.flipX,e.flipY=t.flipY),e.rotation=t.rotation-this.rotation,this},setChildPosition(t,e,i){return t.x=e,t.y=i,this.resetChildPositionState(t),this},setChildLocalPosition(t,e,i){var s=this.getLocalState(t);return s.x=e,s.y=i,this.updateChildPosition(t),this}},d={updateChildVisible(t){return t.visible=this.visible&&this.getLocalState(t).visible,this},syncVisible(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildVisible,this),this},resetChildVisibleState(t){return this.getLocalState(t).visible=t.visible,this},setChildVisible(t,e){return t.visible=e,this.resetChildVisibleState(t),this},setChildLocalVisible(t,e){return void 0===e&&(e=!0),this.getLocalState(t).visible=e,this.updateChildVisible(t),this}},c={updateChildAlpha(t){return t.alpha=this.alpha*this.getLocalState(t).alpha,this},syncAlpha(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildAlpha,this),this},resetChildAlphaState(t){return this.getLocalState(t).alpha=a(t.alpha,this.alpha),this},setChildAlpha(t,e){return t.alpha=e,this.resetChildAlphaState(t),this._add},setChildLocalAlpha(t,e){return this.getLocalState(t).alpha=e,this.updateChildAlpha(t),this}},u={updateChildActive(t){return t.active=this.active&&this.getLocalState(t).active,this},syncActive(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildActive,this),this},resetChildActiveState(t){return this.getLocalState(t).active=t.active,this},setChildActive(t,e){return t.active=e,this.resetChildActiveState(t),this},setChildLocalActive(t,e){return void 0===e&&(e=!0),this.getLocalState(t).active=e,this.updateChildActive(t),this}},p={updateChildScrollFactor(t){return t.setScrollFactor(this.scrollFactorX,this.scrollFactorY),this},syncScrollFactor(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildScrollFactor,this),this}},g={updateChildMask(t){return null==this.mask?this:((this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask)!==t&&(t.mask=this.mask),this)},syncMask(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildMask,this),this},setMask(t){return this.mask=t,this},clearMask(t){return void 0===t&&(t=!1),t&&this.mask&&this.mask.destroy(),this.mask=null,this}},v={setDepth(t){if(this.depth=t,this.children)for(var e=this.getAllChildren(),i=0,s=e.length;i<s;i++)e[i].depth=t;return this},swapDepth(t){var e=this.depth,i=t.depth;return this.setDepth(i),t.setDepth(e),this},incDepth(t){if(this.depth+=t,this.children)for(var e=this.getAllChildren(),i=0,s=e.length;i<s;i++)e[i].depth+=t;return this}};const f=Phaser.Utils.Array;var x={getChildren(){return this.children.getChildren()},getAllChildren(t){void 0===t&&(t=[]);for(var e,i=this.children.getChildren(),s=0,r=i.length;s<r;s++)e=i[s],t.push(e),e.hasOwnProperty("isRexContainerLite")&&t.push(...e.getAllChildren());return t},contains(t){if(this.children.contains(t))return!0;for(var e,i=this.children.getChildren(),s=0,r=i.length;s<r;s++)if((e=i[s]).isRexContainerLite&&e.contains(t))return!0;return!1},getByName(t){return f.GetFirst(this.list,"name",t)},getRandom(t,e){return f.GetRandom(this.list,t,e)},getFirst(t,e,i,s){return f.GetFirstElement(this.list,t,e,i,s)},getAll(t,e,i,s){return f.GetAll(this.list,t,e,i,s)},count(t,e,i,s){return f.CountAllMatching(this.list,t,e,i,s)},swap(t,e){return f.Swap(this.list,t,e),this},moveTo(t,e){return f.MoveTo(this.list,t,e),this},setAll(t,e,i,s){return f.SetAll(this.list,t,e,i,s),this}};const b=Phaser.GameObjects.Zone,m=Phaser.GameObjects.Components;class y extends b{constructor(t,e,i,s,r,n){Array.isArray(s)&&(n=s,s=void 0),void 0===s&&(s=2),void 0===r&&(r=2),super(t,e,i,s,r),this.children=t.add.group(),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._flipX=!1,this._flipY=!1,this._alpha=1,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,n&&this.add(n)}destroy(t){this.scene&&(this.children.destroy(!0),this.children=void 0,super.destroy(t))}resize(t,e){return this.setSize(t,e),this.updateDisplayOrigin(),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.syncPosition())}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.syncPosition())}get visible(){return super.visible}set visible(t){this.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return this._alpha}set alpha(t){this._alpha!==t&&(this._alpha=t,this.syncAlpha())}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.syncActive())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get list(){return this.children.getChildren()}}Object.assign(y.prototype,s,r,n,o,l,d,c,p,u,g,v,x,m.Alpha,m.Flip);e.a=y},,,,,function(t,e,i){"use strict";var s=i(8),r=i(2);const n=Phaser.Utils.Objects.GetValue;const h=0,o=1,a="IDLE";e.a=class extends s.a{constructor(t,e){var i=Object(r.a)(t);i===t&&(t=void 0),super(i,e),this.scene=i,this.gameObject=t,t&&t.setInteractive(n(e,"inputConfig",void 0)),this.resetFromJSON(e),this.boot()}resetFromJSON(t){return this.setEnable(n(t,"enable",!0)),void 0===this.gameObject?this.bounds=n(t,"bounds",void 0):this.bounds=void 0,this.tracerState=h,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.on("destroy",this.destroy,this)}shutdown(){this.gameObject?this.gameObject.off("pointerdown",this.onPointerDown,this):this.scene&&this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene&&(this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.events.off("destroy",this.destroy,this),this.scene=void 0),this.scene=void 0,this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown()}destroy(){this.shutdown()}setEnable(t){return void 0===t&&(t=!0),this.enable===t?this:(t||this.dragCancel(),this.enable=t,this)}onPointerDown(t,e){this.enable&&void 0===this.pointer&&(!this.bounds||this.bounds.contains(t.x,t.y))&&this.pointer!==t&&(this.pointer=t,this.lastPointer=t,this.movedState=!1,this.tracerState=o,void 0===this.gameObject&&(this.isTouchingAnyObject=e.length>0),this.onDragStart())}onPointerUp(t){this.enable&&(!this.bounds||this.bounds.contains(t.x,t.y))&&this.pointer===t&&(this.pointer=void 0,this.movedState=!1,this.tracerState=h,this.onDragEnd())}onPointerMove(t){if(this.enable&&t.isDown){var e=!this.bounds||this.bounds.contains(t.x,t.y),i=this.pointer===t;!i&&e||(i&&!e?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===o&&this.onDragEnd(),this.pointer=void 0,this.tracerState=h,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,e){}postUpdate(t,e){}get isDrag(){return this.tracerState===o&&this.pointer.justMoved}startTicking(){super.startTicking(),this.scene.events.on("preupdate",this.preUpdate,this),this.scene.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.events.off("preupdate",this.preUpdate,this),this.scene.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=a,this}}},,,,,,,function(t,e,i){"use strict";const s=Phaser.Renderer.WebGL.Utils;var r=function(t,e,i,r,n){e.dirty&&(e.updateTexture(),e.dirty=!1);var h=e.frame,o=h.width,a=h.height,l=s.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,h.glTexture,o,a,e.x,e.y,o/e.resolution,a/e.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,o,a,l(e._tintTL,r.alpha*e._alphaTL),l(e._tintTR,r.alpha*e._alphaTR),l(e._tintBL,r.alpha*e._alphaBL),l(e._tintBR,r.alpha*e._alphaBR),e._isTinted&&e.tintFill,0,0,r,n)},n=function(t,e,i,s,r){t.batchSprite(e,e.frame,s,r)},h=i(9),o=(h.default,h.default,{renderWebGL:r,renderCanvas:n});const a=Phaser.Display.Canvas.CanvasPool,l=Phaser.GameObjects.Components,d=Phaser.GameObjects.GameObject;var c=new Phaser.Class({Extends:d,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Crop,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.ScrollFactor,l.Tint,l.Transform,l.Visible,o],initialize:function(t,e,i,s,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===r&&(r=0),d.call(this,t,"rexCanvas"),this.renderer=t.sys.game.renderer,this.resolution=t.sys.game.config.resolution,this.canvas=a.create(this,this.resolution*s,this.resolution*r),this.context=this.canvas.getContext("2d"),this.dirty=!0,this.setPosition(e,i),this.setSize(s,r),this.setOrigin(.5,.5),this.initPipeline(),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer.gl&&(s>0&&r>0?this.updateTexture():(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null)),t.sys.game.config.renderType===Phaser.WEBGL&&t.sys.game.renderer.onContextRestored(function(){this.dirty=!0},this)},getCanvas:function(t){return t||(this.dirty=!0),this.canvas},needRedraw:function(){return this.dirty=!0,this},clear:function(){var t=this.canvas;return this.context.clearRect(0,0,t.width,t.height),this.dirty=!0,this},fill:function(t){var e=this.canvas,i=this.context;return i.fillStyle=t,i.fillRect(0,0,e.width,e.height),this.dirty=!0,this},preDestroy:function(){a.remove(this.canvas)},updateTexture:function(t,e){return t&&(e?t.call(e,this.canvas,this.context):t(this.canvas,this.context)),this.width===this.frame.width&&this.height===this.frame.height||this.frame.setSize(this.width,this.height),this.renderer.gl&&(this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!1,this},generateTexture:function(t,e,i,s,r){var n,h=this.canvas,o=this.scene.sys,a=o.game.renderer;void 0===e&&(e=0),void 0===i&&(i=0),void 0===s?s=h.width:s*=this.resolution,void 0===r?r=h.height:r*=this.resolution;var l=(n=o.textures.exists(t)?o.textures.get(t):o.textures.createCanvas(t,s,r)).getSourceImage();l.width!==s&&(l.width=s),l.height!==r&&(l.height=r);var d=l.getContext("2d");return d.clearRect(0,0,s,r),d.drawImage(h,e,i,s,r),a.gl&&n&&a.canvasToTexture(l,n.source[0].glTexture,!0,0),this},loadTexture:function(t,e){var i=this.scene.sys;if(!i.textures.exists(t))return this;void 0===e&&(e=!0);var s=i.textures.get(t).getSourceImage(),r=(s.getContext("2d"),this.canvas);r.width!==s.width&&(r.width=s.width),r.height!==s.height&&(r.height=s.height);var n=r.getContext("2d");return n.clearRect(0,0,r.width,r.height),n.drawImage(s,0,0,r.width,r.height),this.updateTexture(),e&&this.setSize(r.width/this.resolution,r.height/this.resolution),this},resize:function(t,e){return this.width===t&&this.height===e?this:(this.canvas.width=this.resolution*t,this.canvas.height=this.resolution*e,this.setSize(t,e).updateDisplayOrigin(),this)}});e.a=c},,,,function(t,e,i){"use strict";e.a=function(t,e,i){!t||void 0===e&&void 0===i||(t.resize?(void 0===e&&(e=t.width),void 0===i&&(i=t.height),t.resize(e,i)):(void 0!==e&&(t.displayWidth=e),void 0!==i&&(t.displayHeight=i)))}},function(t,e,i){"use strict";var s=i(60),r=i.n(s),n=i(24),h=i(11),o=i(1);const a=Phaser.Utils.Objects.GetValue,l=o.a.NO_NEWLINE,d=o.a.RAW_NEWLINE;var c=class{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=a(t,"text",""),this.x=a(t,"x",0),this.y=a(t,"y",0),this.width=a(t,"width",0);var e=a(t,"prop",null);null===e&&(e={}),this.prop=e,this.newLineMode=a(t,"newLineMode",0),this.startIndex=a(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===d&&(t+="\n"),t}get wrapText(){var t=this.text;return this.newLineMode!==l&&(t+="\n"),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===d&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}},u=i(10),p=i(9);const g=Phaser.Utils.Objects.GetFastValue,v=o.a.NO_NEWLINE;var f=new h.a,x=new h.a;class b{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.PensPool=g(t,"pensPool",f),this.LinesPool=g(t,"linesPool",x),this.tagToText=g(t,"tagToText",p.default),this.tagToTextScope=g(t,"tagToTextScope",void 0)}destroy(){this.freePens(),this.tagToText=void 0,this.tagToTextScope=void 0}freePens(){for(var t=0,e=this.lines.length;t<e;t++)this.lines[t].length=0;this.PensPool.pushMultiple(this.pens),this.LinesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addPen(t,e,i,s,r,n){var h=this.PensPool.pop();null==h&&(h=new c),m.text=t,m.x=e,m.y=i,m.width=s,m.prop=r,m.newLineMode=n,h.resetFromJSON(m);var o=this.lastPen;h.startIndex=null==o?0:o.endIndex,this.pens.push(h);var a=this.lastLine;null==a&&(a=this.LinesPool.pop()||[],this.lines.push(a)),a.push(h),h.newLineMode!==v&&(a=this.LinesPool.pop()||[],this.lines.push(a)),this.maxLinesWidth=void 0}clone(t){null==t&&(t=new b),t.freePens();for(var e=0,i=this.lines.length;e<i;e++)for(var s=this.lines[e],r=0,n=s.length;r<n;r++){var h=s[r];t.addPen(h.text,h.x,h.y,h.width,Object(u.a)(h.prop),h.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var e=this.lines[t];return e&&e[0]?e[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var e,i,s=!1;for(e=t;e>=0&&!(s=null!=(i=this.lines[e])&&i.length>0);e--);return s?i[i.length-1].endIndex:0}getLineWidth(t){var e=this.lines[t];if(!e)return 0;var i=e[e.length-1];return null==i?0:i.lastX}getMaxLineWidth(){if(void 0!==this.maxLinesWidth)return this.maxLinesWidth;for(var t,e=0,i=0,s=this.lines.length;i<s;i++)(t=this.getLineWidth(i))>e&&(e=t);return this.maxLinesWidth=e,e}getLineWidths(){for(var t=[],e=0,i=this.lines.length;e<i;e++)t.push(this.getLineWidth(e));return t}get linesCount(){return this.lines.length}get plainText(){for(var t="",e=this.pens,i=0,s=e.length;i<s;i++)t+=e[i].plainText;return t}get rawTextLength(){for(var t=0,e=this.pens,i=0,s=this.pens.length;i<s;i++)t+=e[i].rawTextLength;return t}getSliceTagText(t,e,i){if(void 0===t&&(t=0),void 0===e){var s=this.lastPen;if(null==s)return"";e=s.endIndex}void 0===i&&(i=!1);for(var r,n,h,o,a,l,d="",c=0,u=this.pens.length;c<u&&((o=(r=this.pens[c]).endIndex)<=t||(r=this.pens[c],n=i?r.wrapText:r.plainText,a=r.prop,(h=r.startIndex)>=t&&o<=e||(n=n.substring(t-h,e-h)),this.tagToTextScope?d+=this.tagToText.call(this.tagToTextScope,n,a,l):d+=this.tagToText(n,a,l),l=a,!(o>=e)));c++);return d}}var m={},y=b;const C=o.a.NO_NEWLINE,w=o.a.RAW_NEWLINE,O=o.a.WRAPPED_NEWLINE,S=o.a.NO_WRAP,T=o.a.WORD_WRAP,P=(o.a.CHAR_WRAP,o.a.SPLITREGEXP);var M=[],k=new h.a;k.newline=function(t,e,i){var s=this.pop();return null===s&&(s={}),s.text=t,s.width=e,s.newLineMode=i,s};var E=function(t,e,i,s,r){s<=0&&(i=S);var n=M;if(k.pushMultiple(n),!t||!t.length)return n;for(var h,o,a,l=t.split(P),d=0,c=l.length;d<c;d++)if(h=l[d],a=d===c-1?C:w,i!==S){var u,p;if(o=0===d?s-r:s,h.length<=100&&(y=e(h))<=o){n.push(k.newline(h,y,a));continue}for(var g,v="",f="",x=0,b=0,m=(u=i===T?h.split(" "):h).length;b<m;b++)p=u[b],i===T?(v+=p,b<m-1&&(v+=" ")):v+=p,(g=e(v))>o&&(0===b?n.push(k.newline("",0,O)):(n.push(k.newline(f,x,O)),v=p,i===T&&b<m-1&&(v+=" "),g=e(v)),o=s),f=v,x=g;n.push(k.newline(f,x,a))}else{var y=e(h);n.push(k.newline(h,y,a))}return n};const j=Phaser.Utils.Objects.GetValue,_=(o.a.NO_WRAP,o.a.NO_NEWLINE),I=(o.a.hleft,o.a.hcenter),z=o.a.hright,Y=(o.a.vtop,o.a.vcenter),R=o.a.vbottom;var L={},D=class{constructor(t){this.context=j(t,"context",null),this.canvas=this.context.canvas,this.parser=j(t,"parser",null),this.defatultStyle=j(t,"style",null),this.autoRound=!0,this.pensPool=j(t,"pensPool",null),this.pensManager=this.newPenManager(),this._tmpPensManager=null;var e=this.context;this.getTextWidth=function(t){return e.measureText(t).width}}updatePensManager(t,e,i,s,r){if(void 0===r&&(r=this.pensManager),r.freePens(),""===t)return r;for(var n,h,o,a,l,d=this.canvas,c=this.context,p=0,g=0,v=this.parser.splitText(t),f=0,x=v.length;f<x;f++)if(n=(a=this.parser.tagTextToProp(v[f],h)).plainText,h=a.prop,""!==n){this.context.save(),(o=this.parser.propToContextStyle(this.defatultStyle,h)).buildFont(),o.syncFont(d,c),o.syncStyle(d,c);for(var b=0,m=(l=E(n,this.getTextWidth,e,i,p)).length;b<m;b++){var y=l[b];r.addPen(y.text,p,g,y.width,Object(u.a)(h),y.newLineMode),y.newLineMode!==_?(p=0,g+=s):p+=y.width}this.context.restore()}return r}draw(t,e,i,s,r){void 0===r&&(r=this.pensManager);var n=this.context;n.save(),this.drawBackground();var h=this.defatultStyle;t+=h.strokeThickness/2,e+=h.strokeThickness/2+h.metrics.ascent;var o,a,l,d,c,u,p=h.halign,g=h.valign,v=h.lineHeight,f=r.lines,x=f.length,b=h.maxLines;b>0&&x>b?(a=b,l=g===Y?Math.floor((x-a)/2):g===R?x-a:0):(a=x,l=0),d=l+a,u=g===Y?Math.max((s-a*v)/2,0):g===R?Math.max(s-a*v-2,0):0,u+=e;for(var m=l;m<d;m++)if(0!==(o=r.getLineWidth(m))){c=p===I?(i-o)/2:p===z?i-o:0,c+=t;for(var y=f[m],C=0,w=y.length;C<w;C++)this.drawPen(y[C],c,u)}n.restore()}clear(){var t=this.canvas;this.context.clearRect(0,0,t.width,t.height)}drawBackground(){var t=this.defatultStyle.backgroundColor;if(null!==t){var e=this.context,i=this.canvas;e.fillStyle=t,e.fillRect(0,0,i.width,i.height)}}drawUnderline(t,e,i,s,r){if(!(s<=0)){var n=this.context,h=n.lineCap;n.lineCap="butt",n.beginPath(),n.strokeStyle=r,n.lineWidth=s,n.moveTo(t,e),n.lineTo(t+i,e),n.stroke(),n.lineCap=h}}drawPen(t,e,i){var s=this.canvas,r=this.context;r.save();var n=this.parser.propToContextStyle(this.defatultStyle,t.prop);n.buildFont(),n.syncFont(s,r),n.syncStyle(s,r),e+=t.x,i+=t.y,this.autoRound&&(e=Math.round(e),i=Math.round(i));var h=t.text,o=t.width;this.drawUnderline(e,i+n.underlineOffset,o,n.underlineThickness,n.underlineColor),n.strokeThickness&&(n.syncShadow(r,n.shadowStroke),r.strokeText(h,e,i)),n.color&&"none"!==n.color&&(n.syncShadow(r,n.shadowFill),r.fillText(h,e,i)),r.restore()}destroy(){this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defatultStyle=void 0,this.pensManager.destroy(),this.pensManager=void 0,this._tmpPensManager&&(this._tmpPensManager.destroy(),this._tmpPensManager=void 0)}get lines(){return this.pensManager.lines}get desplayLinesCount(){var t=this.pensManager.linesCount,e=this.defatultStyle.maxLines;return e>0&&t>e&&(t=e),t}get linesWidth(){return this.pensManager.getMaxLineWidth()}get linesHeight(){var t=this.desplayLinesCount,e=this.defatultStyle.lineHeight*t;return t>0&&(e-=this.defatultStyle.lineSpacing),e}newPenManager(){return L.pensPool=this.pensPool,L.tagToText=this.parser.propToTagText,L.tagToTextScope=this.parser,new y(L)}get tmpPenManager(){return null===this._tmpPensManager&&(this._tmpPensManager=this.newPenManager()),this._tmpPensManager}getPlainText(t,e,i){var s;if(null==t)s=this.pensManager.plainText;else{var r=this.parser.splitText(t,1);s="";for(var n=0,h=r.length;n<h;n++)s+=r[n]}return null==e&&null==i||(null==e&&(e=0),null==i&&(i=s.length),s=s.substring(e,i)),s}getPenManager(t,e){if(void 0===t)return this.copyPensManager(e,this.pensManager);void 0===e&&(e=this.newPenManager());var i=this.defatultStyle;return this.updatePensManager(t,i.wrapMode,i.wrapWidth,i.lineHeight,e),e}getText(t,e,i,s){if(null==t)return this.pensManager.getSliceTagText(e,i,s);var r=this.tmpPenManager,n=this.defatultStyle;return this.updatePensManager(t,n.wrapMode,n.wrapWidth,n.lineHeight,r),r.getSliceTagText(e,i,s)}copyPensManager(t,e){return void 0===e&&(e=this.pensManager),e.copy(t)}getTextWidth(t){return void 0===t&&(t=this.pensManager),t.getMaxLineWidth()}getLastPen(t){return void 0===t&&(t=this.pensManager),t.lastPen}};const B=Phaser.DOM.AddToDOM,H=Phaser.Display.Canvas.CanvasPool,W=Phaser.GameObjects.Components,X=Phaser.GameObjects.GameObject,V=Phaser.Utils.Objects.GetValue,F=Phaser.DOM.RemoveFromDOM,A=o.a.SPLITREGEXP,G=Phaser.Geom.Rectangle;var U={},N=new Phaser.Class({Extends:X,Mixins:[W.Alpha,W.BlendMode,W.ComputedSize,W.Crop,W.Depth,W.Flip,W.GetBounds,W.Mask,W.Origin,W.Pipeline,W.ScrollFactor,W.Tint,W.Transform,W.Visible,r.a],initialize:function(t,e,i,s,r,o,a){if(void 0===e&&(e=0),void 0===i&&(i=0),X.call(this,t,o),this.renderer=t.sys.game.renderer,this.setPosition(e,i),this.setOrigin(0,0),this.initPipeline(),this.canvas=H.create(this),this.context=this.canvas.getContext("2d"),r&&r.hasOwnProperty("align")){var l=r.align;delete r.align,r.halign=l}this.style=new n.a(this,r),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.dirty=!1,0===this.style.resolution&&(this.style.resolution=t.sys.game.config.resolution),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),U.hasOwnProperty(o)||(U[o]=new h.a),Z.context=this.context,Z.parser=a,Z.style=this.style,Z.pensPool=U[o],this.canvasText=new D(Z),r&&r.padding&&this.setPadding(r.padding),this.setText(s),t.sys.game.config.renderType===Phaser.WEBGL&&t.sys.game.renderer.onContextRestored(function(){this.dirty=!0},this)},text:{set:function(t){this.setText(t)},get:function(){return this._text}},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",B(this.canvas,this.scene.sys.canvas),this.originX=1)},setText:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this._text&&(this._text=t.toString(),this.updateText()),this},setStyle:function(t){return this.style.setStyle(t)},setFont:function(t){return this.style.setFont(t)},setFontFamily:function(t){return this.style.setFontFamily(t)},setFontSize:function(t){return this.style.setFontSize(t)},setFontStyle:function(t){return this.style.setFontStyle(t)},setFixedSize:function(t,e){return this.style.setFixedSize(t,e)},setBackgroundColor:function(t){return this.style.setBackgroundColor(t)},setFill:function(t){return this.style.setFill(t)},setColor:function(t){return this.style.setColor(t)},setStroke:function(t,e){return this.style.setStroke(t,e)},setShadow:function(t,e,i,s,r,n){return this.style.setShadow(t,e,i,s,r,n)},setShadowOffset:function(t,e){return this.style.setShadowOffset(t,e)},setShadowColor:function(t){return this.style.setShadowColor(t)},setShadowBlur:function(t){return this.style.setShadowBlur(t)},setShadowStroke:function(t){return this.style.setShadowStroke(t)},setShadowFill:function(t){return this.style.setShadowFill(t)},setWrapMode:function(t){return this.style.setWrapMode(t)},setWrapWidth:function(t){return this.style.setWrapWidth(t)},setAlign:function(t){return this.style.setHAlign(t)},setLineSpacing:function(t){return this.style.setLineSpacing(t)},setPadding:function(t,e,i,s){if("object"==typeof t){var r=t,n=V(r,"x",null);null!==n?(t=n,i=n):(t=V(r,"left",0),i=V(r,"right",t));var h=V(r,"y",null);null!==h?(e=h,s=h):(e=V(r,"top",0),s=V(r,"bottom",e))}else void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=t),void 0===s&&(s=e);return this.padding.left=t,this.padding.top=e,this.padding.right=i,this.padding.bottom=s,this.updateText(!1)},setResolution:function(t){return this.style.setResolution(t)},setMaxLines:function(t){return this.style.setMaxLines(t)},updateText:function(t){void 0===t&&(t=!0);var e=this.canvasText,i=this.style;t&&e.updatePensManager(this._text,i.wrapMode,i.wrapWidth,i.lineHeight);var s,r,n=this.padding;0===i.fixedWidth?(this.width=e.linesWidth+n.left+n.right,s=e.linesWidth):(this.width=i.fixedWidth,(s=this.width-n.left-n.right)<e.linesWidth&&(s=e.linesWidth)),0===i.fixedHeight?(this.height=e.linesHeight+n.top+n.bottom,r=e.linesHeight):(this.height=i.fixedHeight,(r=this.height-n.top-n.bottom)<e.linesHeight&&(r=e.linesHeight));var h=this.width,o=this.height;this.updateDisplayOrigin();var a=i.resolution;h*=a,o*=a,h=Math.max(Math.ceil(h),1),o=Math.max(Math.ceil(o),1);var l=this.canvas,d=this.context;return l.width!==h||l.height!==o?(l.width=h,l.height=o,this.frame.setSize(h,o)):d.clearRect(0,0,h,o),d.save(),d.scale(a,a),e.draw(n.left,n.top,s,r),d.restore(),this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(l,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0,this.input&&this.input.hitArea instanceof G&&(this.input.hitArea.width=this.width,this.input.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},toJSON:function(){var t=W.ToJSON(this),e={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=e,t},preDestroy:function(){this.style.rtl&&F(this.canvas),H.remove(this.canvas),this.canvasText.destroy()},getWrappedText:function(t,e,i){return(t=this.canvasText.getText(t,e,i,!0)).split(A)},getPlainText:function(t,e,i){return this.canvasText.getPlainText(t,e,i)},getText:function(t,e,i){return this.canvasText.getText(t,e,i,!1)},getSubString:function(t,e,i){return this.getText(t,e,i)},copyPensManager:function(t){return this.canvasText.copyPensManager(t)},getPenManager:function(t,e){return this.canvasText.getPenManager(t,e)},setSize:function(t,e){return this.setFixedSize(t,e)},resize:function(t,e){return this.setFixedSize(t,e)},lineSpacing:{get:function(){return this.style.lineSpacing},set:function(t){this.setLineSpacing(t)}}}),Z={};e.a=N},,function(t,e,i){"use strict";e.a=function(t){return t.hasOwnProperty("geometryMask")?t.geometryMask:t.bitmapMask}},function(t,e,i){"use strict";const s=Phaser.GameObjects.Graphics;const r={rectangle:0,circle:1};e.a=class extends s{constructor(t,e,i){void 0===e&&(e=0),"string"==typeof e&&(shaep=r[e]),void 0===i&&(i=0),super(t.scene),this.parent=t,this.shape=e,this.padding=i,this.setPosition().resize()}destroy(){return this.parent=void 0,super.destroy(),this}setPosition(t,e){var i=this.parent;return void 0===t&&(t=i.x),void 0===e&&(e=i.y),super.setPosition(t,e),this}resize(t,e,i){var s=this.parent;if(void 0===t&&(t=s.width),void 0===e&&(e=s.height),void 0===i&&(i=this.padding),this.widthSave===t&&this.heightSave===e&&this.paddingSave===i)return this;switch(this.clear().fillStyle(16777215),this.shape){case 1:var r=Math.min(t,e)/2;this.fillCircle(0,0,r+i);break;default:this.fillRect(-t*s.originX-i,-e*s.originY-i,t+2*i,e+2*i)}return this.widthSave=t,this.heightSave=e,this.paddingSave=i,this}}},,function(t,e,i){"use strict";var s=i(2);const r=Phaser.Utils.Objects.GetValue,n=Phaser.Utils.Objects.GetAdvancedValue;const h={stop:0,destroy:1,yoyo:2};var o=class{constructor(t,e){this.gameObject=t,this.scene=Object(s.a)(t),this.scaleStart={},this.scaleEnd={},this.tween=void 0,this.resetFromJSON(e),this.boot()}resetFromJSON(t){return this.setMode(r(t,"mode",0)),this.setScaleRange(n(t,"start",void 0),n(t,"end",0)),this.setDelay(n(t,"delay",0)),this.setFadeOutTime(n(t,"duration",1e3)),this.setEase(r(t,"ease",void 0)),this}toJSON(){return{mode:this.mode,start:this.scaleStart,end:this.scaleEnd,delay:this.delay,duration:this.duration}}boot(){this.gameObject.on&&this.gameObject.on("destroy",this.destroy,this)}shutdown(){return this.stop(),this.gameObject=void 0,this.scene=void 0,this}destroy(){return this.shutdown(),this}setMode(t){return"string"==typeof t&&(t=h[t]),this.mode=t,this}setScaleRange(t,e){return"number"==typeof t?(this.scaleStart.x=t,this.scaleStart.y=t):(this.scaleStart.x=r(t,"x",this.gameObject.scaleX),this.scaleStart.y=r(t,"y",this.gameObject.scaleY)),"number"==typeof e?(this.scaleEnd.x=e,this.scaleEnd.y=e):(this.scaleEnd.x=r(e,"x",this.scaleStart.x),this.scaleEnd.y=r(e,"y",this.scaleStart.y)),this}setDelay(t){return this.delay=t,this}setFadeOutTime(t){return this.duration=t,this}setEase(t){return void 0===t&&(t="Linear"),this.ease=t,this}start(){return this.tween?this:(this.gameObject.scaleX=this.scaleStart.x,this.gameObject.scaleY=this.scaleStart.y,this.tween=this.scene.tweens.add({targets:this.gameObject,scaleX:this.scaleEnd.x,scaleY:this.scaleEnd.y,duration:this.duration,ease:this.ease,yoyo:2==this.mode,repeat:2==this.mode?-1:0,onComplete:this.complete,onCompleteScope:this}),this)}stop(){return this.tween?(this.tween.remove(),this.tween=void 0,this):this}complete(){1===this.mode&&this.gameObject.destroy()}};e.a=o},,,,,,,,,,,function(t,e,i){"use strict";var s=i(2);const r=Phaser.Utils.Objects.GetValue,n=Phaser.Utils.Objects.GetAdvancedValue;const h={stop:0,destroy:1,yoyo:2};var o=class{constructor(t,e){this.gameObject=t,this.scene=Object(s.a)(t),this.alphaStart=void 0,this.alphaEnd=void 0,this.tween=void 0,this.resetFromJSON(e),this.boot()}resetFromJSON(t){return this.setMode(r(t,"mode",0)),this.setAlphaRange(n(t,"start",this.gameObject.alpha),n(t,"end",0)),this.setDelay(n(t,"delay",0)),this.setFadeOutTime(n(t,"duration",1e3)),this}toJSON(){return{mode:this.mode,start:this.alphaStart,end:this.alphaEnd,delay:this.delay,duration:this.duration}}boot(){this.gameObject.on&&this.gameObject.on("destroy",this.destroy,this)}shutdown(){return this.stop(),this.gameObject=void 0,this.scene=void 0,this}destroy(){return this.shutdown(),this}setMode(t){return"string"==typeof t&&(t=h[t]),this.mode=t,this}setAlphaRange(t,e){return this.alphaStart=t,this.alphaEnd=e,this}setDelay(t){return this.delay=t,this}setFadeOutTime(t){return this.duration=t,this}start(){return this.tween?this:0===this.duration?(this.gameObject.alpha=this.alphaEnd,this.stop(),this.complete(),this):(this.gameObject.alpha=this.alphaStart,this.tween=this.scene.tweens.add({targets:this.gameObject,alpha:this.alphaEnd,delay:this.delay,duration:this.duration,ease:"Linear",yoyo:2==this.mode,repeat:2==this.mode?-1:0,onComplete:this.complete,onCompleteScope:this}),this)}stop(){return this.tween?(this.tween.remove(),this.tween=void 0,this):this}complete(){1===this.mode&&this.gameObject.destroy()}};e.a=o},function(t,e,i){var s=i(9),r=i(9);s=i(122),r=i(121),t.exports={renderWebGL:s,renderCanvas:r}},,function(t,e,i){"use strict";e.a=function(t){return t&&"function"==typeof t}},,function(t,e,i){"use strict";var s=i(43),r={plainText:null,prevProp:null},n=new(i(24).a),h={},o={splitText:function(t,e){for(var i,s,r=[],n=0,h=t.length,o=h;i=d.exec(t);)s=i[0],n<(o=d.lastIndex-s.length)&&r.push(t.substring(n,o)),void 0===e&&r.push(s),n=d.lastIndex;return n<h&&r.push(t.substring(n,h)),r},tagTextToProp:function(t,e){var i,s;null==e&&(e={}),e.img&&a(e,E,"img"),c.test(t)?(a(e,j,"b",!0),i=""):u.test(t)?(a(e,E,"b"),i=""):p.test(t)?(a(e,j,"i",!0),i=""):g.test(t)?(a(e,E,"i"),i=""):v.test(t)?(s=t.match(v),a(e,j,"size",s[1]+"px"),i=""):f.test(t)?(a(e,E,"size"),i=""):x.test(t)?(s=t.match(x),a(e,j,"color",s[1]),i=""):b.test(t)?(a(e,E,"color"),i=""):m.test(t)?(s=t.match(m),a(e,j,"u",!0),i=""):y.test(t)?(s=t.match(y),a(e,j,"u",s[1]),i=""):C.test(t)?(a(e,E,"u"),i=""):w.test(t)?(a(e,j,"shadow",!0),i=""):O.test(t)?(a(e,E,"shadow"),i=""):S.test(t)?(a(e,j,"stroke",!0),i=""):T.test(t)?(s=t.match(T),a(e,j,"stroke",s[1]),i=""):P.test(t)?(a(e,E,"stroke"),i=""):M.test(t)?(s=t.match(M),a(e,j,"img",s[1]),i=""):k.test(t)?(a(e,E,"img"),i=""):i=t;var n=r;return n.plainText=i,n.prop=e,n},propToContextStyle:function(t,e){var i=n;if(e.hasOwnProperty("img"))i.image=e.img;else{if(i.image=null,e.hasOwnProperty("family")?i.fontFamily=e.family:i.fontFamily=t.fontFamily,e.hasOwnProperty("size")){var s=e.size;"number"==typeof s&&(s=s.toString()+"px"),i.fontSize=s}else i.fontSize=t.fontSize;i.fontStyle=l(e.b,e.i),e.hasOwnProperty("color")?i.color=e.color:i.color=t.color,e.hasOwnProperty("stroke")?!0===e.stroke?(i.stroke=t.stroke,i.strokeThickness=t.strokeThickness):(i.stroke=e.stroke,i.strokeThickness=t.strokeThickness):(i.stroke=t.stroke,i.strokeThickness=0)}return e.hasOwnProperty("shadow")?!0===e.shadow?(i.shadowColor=t.shadowColor,i.shadowOffsetX=t.shadowOffsetX,i.shadowOffsetY=t.shadowOffsetY,i.shadowBlur=t.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor=e.shadow,i.shadowOffsetX=t.shadowOffsetX,i.shadowOffsetY=t.shadowOffsetY,i.shadowBlur=t.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor="#000",i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=0,i.shadowStroke=!1,i.shadowFill=!1),e.hasOwnProperty("u")?!0===e.u?(i.underlineColor=t.underlineColor,i.underlineThickness=t.underlineThickness,i.underlineOffset=t.underlineOffset):(i.underlineColor=e.u,i.underlineThickness=t.underlineThickness,i.underlineOffset=t.underlineOffset):(i.underlineColor="#000",i.underlineThickness=0,i.underlineOffset=0),i},propToTagText:function(t,e,i){for(var s in null==i&&(i=h),i)e.hasOwnProperty(s)||(t="[/"+s+"]"+t);var r="";for(var s in e)i[s]!==e[s]&&("size"===s?r+="[size="+e[s].replace("px","")+"]":"color"===s||"stroke"===s||"img"===s?r+="["+s+"="+e[s]+"]":"u"===s?!0===e[s]?r+="[u]":r+="[u="+e[s]+"]":r+="["+s+"]");return t=r+t}},a=function(t,e,i,s){return e===j?t[i]=s:t.hasOwnProperty(i)&&delete t[i],t},l=function(t,e){return t&&e?"bold italic":t?"bold":e?"italic":""},d=/\[b\]|\[\/b\]|\[i\]|\[\/i\]|\[size=(\d+)\]|\[\/size\]|\[color=([a-z]+|#[0-9abcdef]+)\]|\[\/color\]|\[u\]|\[u=([a-z]+|#[0-9abcdef]+)\]|\[\/u\]|\[shadow\]|\[\/shadow\]|\[stroke\]|\[stroke=([a-z]+|#[0-9abcdef]+)\]|\[\/stroke\]|\[img=([^\]]+)\]|\[\/img\]/gi,c=/\[b\]/i,u=/\[\/b\]/i,p=/\[i\]/i,g=/\[\/i\]/i,v=/\[size=(\d+)\]/i,f=/\[\/size\]/i,x=/\[color=([a-z]+|#[0-9abcdef]+)\]/i,b=/\[\/color\]/i,m=/\[u\]/i,y=/\[u=([a-z]+|#[0-9abcdef]+)\]/i,C=/\[\/u\]/i,w=/\[shadow\]/i,O=/\[\/shadow\]/i,S=/\[stroke\]/i,T=/\[stroke=([a-z]+|#[0-9abcdef]+)\]/i,P=/\[\/stroke\]/i,M=/\[img=([^\]]+)\]/i,k=/\[\/img\]/i;const E=!1,j=!0;var _=o;e.a=class extends s.a{constructor(t,e,i,s,r){super(t,e,i,s,r,"rexBBCodeText",_)}}},function(t,e,i){"use strict";var s=i(43),r={plainText:null,prevProp:null},n=new(i(24).a);var h=function(t){for(var e,i,s,r={},n=0,h=(t=t.split(";")).length;n<h;n++)if(i=(e=t[n].split(":"))[0],s=e[1],!o(i)&&!o(s)){switch(i){case"stroke":var a=s.split(" ");s={},(d=a.length)>=1&&(s.color=a[0]),d>=2&&(s.thinkness=parseInt(a[1].replace("px","")));break;case"shadow":var l=s.split(" ");s={},(d=l.length)>=1&&(s.color=l[0]),d>=2&&(s.offsetX=parseInt(l[1].replace("px",""))),d>=3&&(s.offsetY=parseInt(l[2].replace("px",""))),d>=4&&(s.blur=parseInt(l[3].replace("px","")));break;case"u":case"underline":var d,c=s.split(" ");s={},(d=c.length)>=1&&(s.color=c[0]),d>=2&&(s.thinkness=parseInt(c[1].replace("px",""))),d>=3&&(s.offset=parseInt(c[2].replace("px","")))}r[i]=s}return r},o=function(t){return 0===(t=t.replace(p,"")).length},a=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,l=/<\s*class=/i,d=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,c=/<\s*style=/i,u=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,p=/^\s+|\s+$/,g=class{constructor(t){void 0===t&&(t={}),this.tags=t}addTag(t,e){this.tags[t]=e}splitText(t,e){for(var i,s,r,n=[],h=0,o=t.length,p=o;i=a.exec(t);)s=i[0],h<(p=a.lastIndex-s.length)&&n.push(t.substring(h,p)),void 0===e?n.push(s):1===e&&(l.test(s)?(r=s.match(d),n.push(r[2])):c.test(s)&&(r=s.match(u),n.push(r[2]))),h=a.lastIndex;return h<o&&n.push(t.substring(h,o)),n}tagTextToProp(t,e){var i,s;if(l.test(t)){if(null!=(a=t.match(d))){var n=a[1],o=this.tags;(s=o.hasOwnProperty(n)?o[n]:{})._class=n,i=a[2]}}else if(c.test(t)){var a;if(null!=(a=t.match(u))){var p=a[1];(s=h(p))._style=p,i=a[2]}}null==i&&(i=t),null==s&&(s={});var g=r;return g.plainText=i,g.prop=s,g}propToContextStyle(t,e){var i=n;if(e.hasOwnProperty("img"))i.image=e.img;else{if(i.image=null,e.hasOwnProperty("family")||e.hasOwnProperty("fontFamily")||e.hasOwnProperty("font-family")){var s=e.hasOwnProperty("family")?e.family:e.hasOwnProperty("fontFamily")?e.fontFamily:e["font-family"];i.fontFamily=s}else i.fontFamily=t.fontFamily;if(e.hasOwnProperty("size")||e.hasOwnProperty("fontSize")||e.hasOwnProperty("font-size")){var r=e.hasOwnProperty("size")?e.size:e.hasOwnProperty("fontSize")?e.fontSize:e["font-size"];"number"==typeof r&&(r=r.toString()+"px"),i.fontSize=r}else i.fontSize=t.fontSize;if(e.hasOwnProperty("style")||e.hasOwnProperty("fontStyle")||e.hasOwnProperty("font-style")){var h=e.hasOwnProperty("style")?e.style:e.hasOwnProperty("fontStyle")?e.fontStyle:e["font-style"];i.fontStyle=h}else i.fontStyle=t.fontStyle;if(e.hasOwnProperty("color")||e.hasOwnProperty("font-color")?(e.hasOwnProperty("color")?e.color:e["font-color"],i.color=e.color):i.color=t.color,e.hasOwnProperty("stroke")){var o=e.stroke;i.stroke=o.hasOwnProperty("color")?o.color:t.stroke,i.strokeThickness=o.hasOwnProperty("thinkness")?o.thinkness:t.strokeThickness}else i.stroke=t.stroke,i.strokeThickness=t.strokeThickness}if(e.hasOwnProperty("shadow")){var a=e.shadow;i.shadowColor=a.hasOwnProperty("color")?a.color:t.shadowColor,i.shadowOffsetX=a.hasOwnProperty("offsetX")?a.offsetX:t.shadowOffsetX,i.shadowOffsetY=a.hasOwnProperty("offsetY")?a.offsetY:t.shadowOffsetY,i.shadowBlur=a.hasOwnProperty("blur")?a.blur:t.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0}else i.shadowColor=t.shadowColor,i.shadowOffsetX=t.shadowOffsetX,i.shadowOffsetY=t.shadowOffsetY,i.shadowBlur=t.shadowBlur,i.shadowStroke=t.shadowStroke,i.shadowFill=t.shadowFill;if(e.hasOwnProperty("u")||e.hasOwnProperty("underline")){var l=e.hasOwnProperty("u")?e.u:e.underline;i.underlineColor=l.hasOwnProperty("color")?l.color:t.underlineColor,i.underlineThickness=l.hasOwnProperty("thinkness")?l.thinkness:t.underlineThickness,i.underlineOffset=l.hasOwnProperty("offset")?l.offset:t.underlineOffset}else i.underlineColor=t.underlineColor,i.underlineThickness=t.underlineThickness,i.underlineOffset=t.underlineOffset;return i}propToTagText(t,e,i){return e.hasOwnProperty("_class")?""===t&&this.isTextTag(e._class)?"":"<class='"+e._class+"'>"+t+"</class>":e.hasOwnProperty("_style")?"<style='"+e._style+"'>"+t+"</style>":void 0}destroy(){this.tags=void 0}isTextTag(t){var e=this.tags[t];return!!e&&null==e.img}};const v=Phaser.Utils.Objects.GetValue;e.a=class extends s.a{constructor(t,e,i,s,r){var n=v(r,"tags",void 0),h=new g(n);super(t,e,i,s,r,"rexTagText",h),this.parser=h}addTag(t,e){return this.parser.addTag(t,e),this.updateText(!0)}addTags(t){for(var e in t)this.parser.addTag(e,t[e]);return this.updateText(!0)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}}},function(t,e,i){"use strict";var s=i(26),r=i(6);var n=class{constructor(t,e){this.container=null,this.data=null,this.setParent(t),this._deltaHeight=0}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(){var t=this.parent;0!==this.deltaHeight&&t.nonZeroDeltaHeightCount--,this.cleanData(),this.destroyContainer(),this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this}destroyContainer(){this.container&&(this.container.destroy(),this.container=null)}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}return null}setXY(t,e){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,e),this}setData(t,e){return this.data||(this.data={}),this.data[t]=e,this}getData(t,e){this.data||(this.data={});var i=this.data;return i.hasOwnProperty(t)?i[t]:e}cleanData(){this.data&&Object(r.a)(this.data)}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){null==t&&(t=0);var e=this.parent;0===this._deltaHeight&&0!==t?e.nonZeroDeltaHeightCount++:0!==this._deltaHeight&&0===t&&e.nonZeroDeltaHeightCount--,this._deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}get height(){return 0===this.scrollMode?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){1!==this.scrollMode&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return 0===this.scrollMode?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){0!==this.scrollMode&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}},h=i(11);const o=Phaser.Utils.Objects.GetValue,a=Phaser.Utils.Array.SpliceOne;var l=new h.a;var d=class{constructor(t,e){this.parent=t,this.cells=[],this.resetFromJSON(e)}resetFromJSON(t){return this.colCount=void 0,this._nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight(),this.setDefaultCellHeight(o(t,"cellHeight",30)),this.setDefaultCellWidth(o(t,"cellWidth",30)),this.initCells(o(t,"cellsCount",0)),this.setColumnCount(o(t,"columns",1)),this}destroy(){for(var t=0,e=this.cells.length;t<e;t++)this.freeCell(this.cells[t]);this.cells=void 0,this.parent=void 0}get nonZeroDeltaHeightCount(){return this._nonZeroDeltaHeightCount}set nonZeroDeltaHeightCount(t){this._nonZeroDeltaHeightCount!==t&&(this._nonZeroDeltaHeightCount=t,this.resetTotalRowsHeight())}get defaultCellHeightMode(){return 0===this.nonZeroDeltaHeightCount}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var e=this.cells;e.length=t;for(var i=0;i<t;i++)e[i]=null;return this}insertNewCell(t,e){var i=this.cells;if(t===i.length){var s=t+e;i.legth=s;for(var r=t;r<s;r++)i[r]=null}else{var n=[];for(n.length=e,r=0;r<e;r++)n[r]=null;this.cells.splice(t,0,...n)}return this.resetTotalRowsHeight(),this}removeCell(t,e){for(var i=t+e,s=t;s<i;s++)this.freeCell(s);return i===this.cells.length?this.cells.length=t:(1===e?a(this.cells,t):this.cells.splice(t,e),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){return this.colCount=t,this.resetTotalRowsHeight(),this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,e){if(this.defaultCellHeightMode){var i=t/this.defaultCellHeight;return i=e?Math.ceil(i):Math.floor(i)}var s,r=this.rowCount,n=t;for(i=0;;){if(n-=this.getRowHeight(i),s=i>=0&&i<r,!(n>0&&s)){if(0===n)return i;if(e){var h=i;(s=(i+=1)>=0&&i<r)||(i=h)}return i}i+=1}}widthToColIndex(t,e){var i=t/this.defaultCellWidth;return i=e?Math.ceil(i):Math.floor(i)}colRowToCellIndex(t,e){return t>=this.colCount?null:e*this.colCount+t}rowIndexToHeight(t,e){if(this.defaultCellHeightMode)return(e-t+1)*this.defaultCellHeight;for(var i=0,s=t;s<=e;s++)i+=this.getRowHeight(s);return i}colIndexToWidth(t,e){return(e-t+1)*this.defaultCellWidth}getRowHeight(t){var e=this.colCount;if(e<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var i,s=0,r=0;r<e;r++)s<(i=this.getCellHeight(this.colRowToCellIndex(r,t)))&&(s=i);return s}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var e;if(this.defaultCellHeightMode)e=this.defaultCellHeight;else{var i=this.getCell(t,!1),s=i?i.deltaHeight:0;e=this.defaultCellHeight+s}return e}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return null===this._totalRowsHeight&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,e){if(!this.isValidCellIdx(t))return null;if(void 0===e&&(e=!0),null===this.cells[t]&&e){var i=this.newCell(t);this.cells[t]=i}return this.cells[t]}newCell(t){var e=l.pop();return null===e?e=new n(this):e.setParent(this),e.index=t,e}buildCellIndex(t){void 0===t&&(t=0);for(var e,i=this.cells,s=t,r=i.length;s<r;s++)(e=i[s])&&(e.index=s);return this}getParentContainer(){return this.parent}freeCell(t){return"number"==typeof t&&(t=this.cells[t]),t?(t.destroy(),l.push(t),this):this}},c=i(46),u=i(42),p=i(45),g=i(93);const v=s.a,f=Phaser.GameObjects.Components,x=Phaser.Structs.Set,b=Phaser.Utils.Objects.GetValue,m=Phaser.Math.Clamp;class y extends v{constructor(t,e,i,s,r,n){void 0===n&&(n={}),super(t,e,i,s,r),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new x,this.preVisibleCells=new x,this.visibleStartX=null,this.visibleEndX=null,this.visibleStartY=null,this.visibleEndY=null,this.lastVisibleCellIdx=null,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var h=b(n,"reuseCellContainer",!1);this.cellContainersPool=h?t.add.group():void 0;var o=b(n,"cellVisibleCallback",null);if(null!==o){var a=b(n,"cellVisibleCallbackScope",void 0);this.on("cellvisible",o,a)}if(null!==(o=b(n,"cellInvisibleCallback",null))){a=b(n,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",o,a)}if(this.cellsMask=void 0,this.setCellsMask(b(n,"mask",!0)),this.setScrollMode(b(n,"scrollMode",0)),this.setClampMode(b(n,"clamplTableOXY",!0)),0===this.scrollMode){var l=b(n,"cellWidth",void 0);if(this.expandCellSize=void 0===l,void 0===l){var c=b(n,"columns",1);n.cellWidth=this.width/c}}else{l=b(n,"cellHeight",void 0);var u=b(n,"cellWidth",void 0);this.expandCellSize=void 0===l,n.cellWidth=l,n.cellHeight=u}this.table=new d(this,n),this.updateTable()}destroy(t){this.scene&&(this.setCellsCount(0),this.table.destroy(),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(t))}setScrollMode(t){return"string"==typeof t&&(t=C[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return this.clampTableOXYMode=t,this}setCellsCount(t){var e=this.cellsCount;return e===t?this:(e>t?this.removeCell(t,e-t):this.insertNewCell(e,t-e),this)}setColumnCount(t){return this.table.colCount===t?this:(this.table.setColumnCount(t),this)}setGridSize(t,e){return this.setCellsCount(t*e),this.table.setColumnCount(t),this}insertNewCell(t,e){return"object"==typeof t&&(t=t.index),void 0===e&&(e=1),e<=0?this:(t=m(t,0,this.cellsCount),this.table.insertNewCell(t,e),this)}removeCell(t,e){if("object"==typeof t&&(t=t.index),void 0===e&&(e=1),t<0&&(e+=t,t=0),e<=0)return this;if(t>this.cellsCount)return this;if(t<=this.lastVisibleCellIdx)for(var i,s=this.preVisibleCells,r=this.visibleCells,n=t,h=t+e;n<h;n++)(i=this.getCell(n,!1))&&(r.contains(i)&&(this.hideCell(i),r.delete(i)),s.delete(i));return this.table.removeCell(t,e),this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){this.setTableOY(t).updateTable()}set tableOX(t){this.setTableOX(t).updateTable()}setTableOY(t){var e=this.table,i=this.topTableOY,s=this.bottomTableOY,r=this.tableOYExceedTop(t),n=this.tableOYExeceedBottom(t);this.clampTableOXYMode&&(e.rowCount<e.heightToRowIndex(this.instHeight,!0)?t=0:r?t=i:n&&(t=s));return this._tableOY!==t&&(this._tableOY=t),r&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=r,n&&(this.execeedBottomState||this.emit("execeedbottom",this,t,s)),this.execeedBottomState=n,this}setTableOX(t){var e=this.table,i=this.leftTableOX,s=this.rightTableOX,r=this.tableOXExeceedLeft(t),n=this.tableOXExeceedRight(t);this.clampTableOXYMode&&(e.colCount<e.widthToColIndex(this.instWidth,!0)?t=0:r?t=i:n&&(t=s));return this._tableOX!==t&&(this._tableOX=t),r&&(this.execeedLeftState||this.emit("execeedleft",this,t,i)),this.execeedLeftState=r,n&&(this.execeedRightState||this.emit("execeedright",this,t,s)),this.execeedRightState=n,this}setTableOXY(t,e){return this.setTableOY(e).setTableOX(t),this}addTableOY(t){return this.setTableOY(this.tableOY+t),this}addTableOX(t){return this.setTableOX(this.tableOX+t),this}addTableOXY(t,e){return this.addTableOY(e).addTableOX(t),this}setTableOYByPercentage(t){return this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){var t=this.tableVisibleHeight;return 0===t?0:this.tableOY/-t}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}updateTable(t){return t&&(this.clearVisibleCellIndexes(),this.hideCells()),this.clearVisibleCellIndexes(),this.showCells(),this.hideCells(),this.maskCells(),this}getCell(t){return this.table.getCell(t,!0)}getCellContainer(t){var e,i=this.table.getCell(t,!1);return i&&(e=i.getContainer()),e}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,e){return("number"==typeof t?this.table.getCell(t,!0):t).height=e,this}setCellWidth(t,e){return("number"==typeof t?this.table.getCell(t,!0):t).width=e,this}pointerToCellIndex(t,e){e-=this.y+this.topLeftY,t-=this.x+this.topLeftX;var i=this.tableOY-(0===this.scrollMode?e:t),s=this.tableOX-(0===this.scrollMode?t:e),r=this.table,n=r.heightToRowIndex(-i),h=r.widthToColIndex(-s),o=r.colRowToCellIndex(h,n);return null===o?null:this.cellIsVisible(o)?o:null}pointerToCellContainer(t,e){var i=this.pointerToCellIndex(t,e);if(null!==i)return this.getCellContainer(i)}cellIsVisible(t){var e=this.table.getCell(t,!1);return e&&this.visibleCells.contains(e)}eachVisibleCell(t,e){return this.visibleCells.each(t,e),this}iterateVisibleCell(t,e){return this.visibleCells.iterate(t,e),this}setCellsMask(t){var e,i;if(!0===t?(e=!0,i=0):!1===t?e=!1:(e=b(t,"mask",!0),i=b(t,"padding",0)),e){var s=new c.a(this,0,i);this.cellsMask=s.createGeometryMask(),this.add(s)}return this}maskCells(){for(var t,e=[],i=this.visibleCells.entries,s=0,r=i.length;s<r;s++)(t=i[s].getContainer())&&(t.isRexContainerLite?t.getAllChildren(e):e.push(t));Object(g.a)(this,this.cellsMask,e)}resize(t,e){return this.width===t&&this.height===e?this:(super.resize(t,e),this.cellsMask&&Object(u.a)(Object(p.a)(this.cellsMask),t,e),this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount),this.updateTable(!0),this)}clearVisibleCellIndexes(){var t=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=t,this.visibleCells.clear()}showCells(){if(0!==this.cellsCount){var t=this.table,e=t.heightToRowIndex(-this.tableOY);e<0&&(e=0);var i=t.widthToColIndex(-this.tableOX);i<0&&(i=0);var s=t.colRowToCellIndex(i,e),r=this.bottomBound,n=this.rightBound,h=t.cellsCount-1,o=t.colCount-1,a=this.getTLX(i),l=a,d=this.getTLY(e);for(this.visibleStartY=null,this.visibleEndY=null,this.visibleStartX=null,this.visibleEndX=null,this.lastVisibleCellIdx=null;d<r&&s<=h;){if(this.table.isValidCellIdx(s)){null===this.visibleStartY&&(this.visibleStartY=e,this.visibleEndY=e),null===this.visibleStartX&&(this.visibleStartX=i,this.visibleEndX=i),null===this.lastVisibleCellIdx&&(this.lastVisibleCellIdx=s),this.visibleEndY<e&&(this.visibleEndY=e),this.visibleEndX<i&&(this.visibleEndX=i),this.lastVisibleCellIdx<s&&(this.lastVisibleCellIdx=s);var c=t.getCell(s,!0);this.visibleCells.set(c),this.preVisibleCells.contains(c)||this.showCell(c),0===this.scrollMode?c.setXY(l,d):c.setXY(d,l)}l<n&&i<o?(l+=t.getColWidth(i),i+=1):(l=a,d+=t.getRowHeight(e),i=this.visibleStartX,e+=1),s=t.colRowToCellIndex(i,e)}}}showCell(t){var e=null;if(this.cellContainersPool&&null!==(e=this.cellContainersPool.getFirstDead())&&e.setActive(!0).setVisible(!0),this.emit("cellvisible",t,e),this.cellContainersPool){var i=t.getContainer();i?null===e?this.cellContainersPool.add(i):e!==i&&(this.cellContainersPool.add(i),this.cellContainersPool.killAndHide(e)):null!==e&&this.cellContainersPool.killAndHide(e)}}hideCells(){var t=this.preVisibleCells,e=this.visibleCells;t.iterate(function(t){e.contains(t)||this.hideCell(t)},this)}hideCell(t){if(this.emit("cellinvisible",t),this.cellContainersPool){var e=t.popContainer();e&&this.cellContainersPool.killAndHide(e)}t.destroyContainer()}get instHeight(){return 0===this.scrollMode?this.height:this.width}get instWidth(){return 0===this.scrollMode?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}tableOYExceedTop(t){return void 0===t&&(t=this.tableOY),t>this.topTableOY}tableOYExeceedBottom(t){return void 0===t&&(t=this.tableOY),t<this.bottomTableOY}tableOXExeceedLeft(t){return void 0===t&&(t=this.tableOX),t>this.leftTableOX}tableOXExeceedRight(t){return void 0===t&&(t=this.tableOX),t<this.rightTableOX}get tableVisibleHeight(){var t=this.tableHeight,e=this.instHeight;return t>e?t-e:0}get tableVisibleWidth(){var t=this.tableWidth,e=this.instWidth;return t>e?t-e:0}get bottomLeftY(){return-this.displayHeight*this.originY+this.displayHeight}get topRightX(){return-this.displayWidth*this.originX+this.displayWidth}get topLeftX(){return-this.displayWidth*this.originX}get topLeftY(){return-this.displayHeight*this.originY}get bottomBound(){return 0===this.scrollMode?this.bottomLeftY:this.topRightX}get rightBound(){return 0===this.scrollMode?this.topRightX:this.bottomLeftY}getTLX(t){var e=0===this.scrollMode?this.topLeftX:this.topLeftY;return this.tableOX+this.table.colIndexToWidth(0,t-1)+e}getTLY(t){var e=0===this.scrollMode?this.topLeftY:this.topLeftX;return this.tableOY+this.table.rowIndexToHeight(0,t-1)+e}}Object.assign(y.prototype,f.GetBounds);const C={v:0,vertical:0,h:1,horizontal:1};e.a=y},function(t,e,i){"use strict";const s=Phaser.Utils.Objects.GetValue;var r=function(t,e,i){return void 0===t?{x:e,y:i}:"number"==typeof t?{x:t,y:t}:t},n=class{constructor(t,e,i,s,r){this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,e,i,s,r)}setTo(t,e,i,s,r){return this.setPosition(t,e),this.setRadius(r),this.setSize(i,s),this}setPosition(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this}setRadius(t){var e,i;void 0===t&&(t=0),"number"==typeof t?(e=t,i=t):(e=s(t,"x",0),i=s(t,"y",0));var n=this.cornerRadius;return n.tl=r(s(t,"tl",void 0),e,i),n.tr=r(s(t,"tr",void 0),e,i),n.bl=r(s(t,"bl",void 0),e,i),n.br=r(s(t,"br",void 0),e,i),this}setSize(t,e){return this.width=t,this.height=e,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){null==t&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){null==t&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}},h=function(t,e,i){var s=i.length;if(s>=2){var r=i[s-2],n=i[s-1];if(t===r&&e===n)return i}return i.push(t,e),i},o=i(12),a=i.n(o);const l=Phaser.Utils.Objects.GetValue;var d=function(t,e,i,s,r,n,o,d){var c,u,p,g=l(i,"x",i),v=l(i,"y",i);n&&(r+=360),s=a()(s);for(var f=((r=a()(r))-s)/o,x=0;x<=o;x++)p=s+f*x,c=t+g*Math.cos(p),u=e+v*Math.sin(p),h(c,u,d);return d},c=i(127),u=i.n(c),p=i(126),g=i.n(p);const v=Phaser.Utils.Objects.GetValue;class f extends Phaser.GameObjects.Shape{constructor(t,e,i,s,r,h,o,a){void 0===e&&(e=0),void 0===i&&(i=0);var l=v(h,"iteration",void 0);h=v(h,"radius",h),super(t,"RoundRectangle",new n(0,0,s,r,h)),this.setIteration(l),this.setPosition(e,i),void 0!==o&&this.setFillStyle(o,a),this.updateDisplayOrigin(),this.updateData()}updateData(){var t=this.geom,e=this.pathData;e.length=0;var i,s=t.cornerRadius,r=this.iteration+1;if(i=s.br,x(i)){var n=t.width-i.x,o=t.height-i.y;d(n,o,i,0,90,!1,r,e)}else h(t.width,t.height,e);if(i=s.bl,x(i)){n=i.x,o=t.height-i.y;d(n,o,i,90,180,!1,r,e)}else h(0,t.height,e);if(i=s.tl,x(i)){n=i.x,o=i.y;d(n,o,i,180,270,!1,r,e)}else h(0,0,e);if(i=s.tr,x(i)){n=t.width-i.x,o=i.y;d(n,o,i,270,360,!1,r,e)}else h(t.width,0,e);return e.push(e[0],e[1]),this.pathIndexes=u()(e),this}get width(){return this.geom.width}set width(t){this.width!==t&&(this.geom.width=t,this.updateDisplayOrigin(),this.updateData())}get height(){return this.geom.height}set height(t){this.height!==t&&(this.geom.height=t,this.updateDisplayOrigin(),this.updateData())}resize(t,e){return void 0===e&&(e=t),this.geom.width===t&&this.geom.height===e?this:(this.geom.height=e,this.geom.width=t,this.updateDisplayOrigin(),this.updateData(),this)}get iteration(){return this._iteration}set iteration(t){void 0!==this._iteration?this._iteration!==t&&(this._iteration=t,this.updateData()):this._iteration=t}setIteration(t){return void 0===t&&(t=6),this.iteration=t,this}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.updateData()}setRadius(t){return void 0===t&&(t=0),this.radius=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}}var x=function(t){return 0!==t.x&&0!==t.y};Object.assign(f.prototype,g.a);e.a=f},,,,,,,,function(t,e,i){"use strict";var s=i(31),r=i(13);const n=Phaser.Utils.Objects.GetValue;const h="IDLE",o="BEGIN",a="RECOGNIZED";e.a=class extends s.a{constructor(t,e){super(t,e);var i=this,s={states:{IDLE:{enter:function(){i.x=0,i.y=0,i.worldX=0,i.worldY=0},exit:function(){var t=i.lastPointer;i.x=t.x,i.y=t.y,i.worldX=t.worldX,i.worldY=t.worldY}},BEGIN:{enter:function(){i.start()},exit:function(){i.stop()}},RECOGNIZED:{enter:function(){i.emit("pressstart",i,i.gameObject,i.lastPointer)},exit:function(){i.emit("pressend",i,i.gameObject,i.lastPointer)}}},init:function(){this.state=h},eventEmitter:!1};this.setRecongizedStateObject(new r.a(s))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(n(t,"threshold",9)),this.setMinHoldTime(n(t,"time",251)),this}onDragStart(){this.state=0===this.holdTime?a:o}onDragEnd(){this.state=h}onDrag(){this.state!==h&&this.pointer.getDistance()>this.dragThreshold&&(this.state=h)}preUpdate(t,e){this.state===o&&t-this.pointer.downTime>=this.holdTime&&(this.state=a)}get isPressed(){return this.state===a}setDragThreshold(t){return this.dragThreshold=t,this}setMinHoldTime(t){return this.holdTime=t,this}}},function(t,e,i){"use strict";var s=i(31),r=i(13);const n=Phaser.Utils.Objects.GetValue,h=Phaser.Math.Distance.Between;const o="IDLE",a="BEGIN",l="RECOGNIZED";e.a=class extends s.a{constructor(t,e){super(t,e);var i=this,s={states:{IDLE:{enter:function(){i.stop(),i.tapsCount=0,i.x=0,i.y=0,i.worldX=0,i.worldY=0},exit:function(){var t=i.lastPointer;i.x=t.x,i.y=t.y,i.worldX=t.worldX,i.worldY=t.worldY}},BEGIN:{enter:function(){i.start(),i.tapsCount=0,i.emit("tappingstart",i,i.gameObject,i.lastPointer)}},RECOGNIZED:{enter:function(){i.start(),i.emit("tap",i,i.gameObject,i.lastPointer),i.emit(`${i.tapsCount}tap`,i,i.gameObject,i.lastPointer)}}},init:function(){this.state=o},eventEmitter:!1};this.setRecongizedStateObject(new r.a(s))}resetFromJSON(t){super.resetFromJSON(t),this.setMaxHoldTime(n(t,"time",250)),this.setTapInterval(n(t,"tapInterval",200)),this.setDragThreshold(n(t,"threshold",9)),this.setTapOffset(n(t,"tapOffset",10));var e=n(t,"taps",void 0);return void 0!==e?this.setTaps(e):(this.setMaxTaps(n(t,"maxTaps",void 0)),this.setMinTaps(n(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case o:this.state=a;break;case a:var t=this.lastPointer;h(t.upX,t.upY,t.x,t.y)>this.tapOffset&&(this.state=l,this.state=a);break;case l:this.state=a}}onDragEnd(){this.state===a&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),void 0!==this.maxTaps&&this.tapsCount===this.maxTaps&&(this.state=l))}onDrag(){this.state!==o&&this.pointer.getDistance()>this.dragThreshold&&(this.state=o)}preUpdate(t,e){if(this.state===a){var i=this.lastPointer;i.isDown?t-i.downTime>this.holdTime&&(this.state=o):t-i.upTime>this.tapInterval&&(void 0===this.minTaps||this.tapsCount>=this.minTaps?this.state=l:this.state=o)}}postUpdate(t,e){this.state===l&&(this.state=o)}get isTapped(){return this.state===l}setMaxHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,e){return void 0===e&&(e=t),this.setMinTaps(t).setMaxTaps(e),this}}},,,,function(t,e,i){"use strict";var s=function(t){t.stopPropagation()},r=function(t){t.addEventListener("touchstart",s,!1),t.addEventListener("touchmove",s,!1),t.addEventListener("touchend",s,!1),t.addEventListener("mousedown",s,!1),t.addEventListener("mouseup",s,!1),t.addEventListener("mousemove",s,!1)};const n=Phaser.GameObjects.DOMElement,h=Phaser.Utils.Objects.IsPlainObject,o=Phaser.Utils.Objects.GetValue,a=n||Object;const l={id:["id",void 0],text:["value",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readonly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"]},d={align:["text-align",void 0],width:["width",void 0],height:["height",void 0],fontFamily:["font-family",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],borderColor:["borderColor","transparent"],outline:["outline","none"]},c={textchange:"oninput",click:"onclick",dblclick:"ondblclick",focus:"onfocus",blur:"onblur"};e.a=class extends a{constructor(t,e,i,s,n,a){h(e)?(e=o(a=e,"x",0),i=o(a,"y",0),s=o(a,"width",void 0),n=o(a,"height",void 0)):h(s)&&(s=o(a=s,"width",void 0),n=o(a,"height",void 0)),void 0===a&&(a={});var u,p=t.scale.autoRound;void 0!==s&&(p&&(s=Math.floor(s)),a.width=s+"px"),void 0!==n&&(p&&(n=Math.floor(n)),a.height=n+"px");var g,v,f=o(a,"type","text");for(var x in"textarea"===f?(u=document.createElement("textarea")).style.resize="none":(u=document.createElement("input")).type=f,l)g=l[x],void 0!==(v=o(a,x,g[1]))&&(u[g[0]]=v);var b,m,y=o(a,"style",void 0);for(var x in void 0===y&&(y={}),d)b=d[x],void 0!==(m=o(a,x,b[1]))&&(y[b[0]]=m);var C=u.style;for(var x in a)x in l||x in d||x in C&&(y[x]=a[x]);y["box-sizing"]="border-box",super(t,e,i,u,y),this.type="rexInputText";for(let t in c)this.node[c[t]]=function(){this.emit(t,this)}.bind(this);r(this.node)}resize(t,e){var i=this.node.style;return i.width=t+"px",i.height=e+"px",this.updateSize(),this}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}selectText(){return this.node.select(),this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return void 0===t&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}setStyle(t,e){return this.node.style[t]=e,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return void 0===t&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}}},,function(t,e,i){"use strict";const s=Phaser.Utils.Objects.GetValue;const r={id:["id",void 0],width:["width",void 0],height:["height",void 0],autoPlay:["autoplay",!0],controls:["controls",!1],loop:["loop",!1],poster:["poster",void 0],preload:["preload",void 0],muted:["muted",!1],playsInline:["playsInline",!0],crossOrigin:["crossOrigin","anonymous"]},n={canplay:"canplay",canplaythrough:"canplaythrough",ended:"ended",error:"error",loadstart:"loadstart",playing:"playing",pause:"pause",stalled:"stalled"};var h=function(t){var e,i,h=document.createElement("video");for(var o in r)e=r[o],void 0!==(i=s(t,o,e[1]))&&(h[e[0]]=i);var a=s(t,"eventEmitter",void 0);if(a)for(let t in n)h.addEventListener(n[t],function(){a.emit(t,this)}.bind(this));return h};const o=Phaser.Utils.Objects.IsPlainObject;const a=["webm","ogg","mp4","h264","vp9","hls"];var l=function(t,e,i){if(o(e))for(var s,r=0,n=a.length;r<n;r++)if(i[(s=a[r])+"Video"]&&e.hasOwnProperty(s)){e=e[s];break}t.src=e,t.load()};const d=Phaser.Utils.Objects.GetValue,c=Phaser.Math.Clamp;e.a=function(t){return class extends t{createVideoElement(t){return this.video||(void 0===t&&(t={}),t.eventEmitter=this,this.video=h(t),this.playbackTimeChangeEventEnable=d(t,"playbackTimeChangeEventEnable",!0)),this.video}destroy(t){this.scene&&(this.video.pause(),this.video.removeAttribute("src"),this.video.load(),this.video=void 0,super.destroy(t))}preUpdate(t,e){if(this.playbackTimeChangeEventEnable){var i=this.playbackTime;i!==this.prevT&&this.emit("playbacktimechange",this),this.prevT=i}super.preUpdate&&super.preUpdate(t,e)}get availableVideoTypes(){return this.scene.sys.game.device.video}load(t){return l(this.video,t,this.availableVideoTypes),this}play(){return this.video.play(),this}get isPlaying(){var t=this.video;return!t.paused&&!t.ended&&t.currentTime>0}pause(){return this.video.pause(),this}get isPaused(){return this.video.paused}get playbackTime(){return this.video.currentTime||0}set playbackTime(t){try{this.video.currentTime=t}catch(t){}}setPlaybackTime(t){return this.playbackTime=t,this}get duration(){return this.video.duration||0}get t(){var t=this.duration;return 0===t?0:this.playbackTime/t}set t(t){this.playbackTime=this.duration*c(t,0,1)}setT(t){return this.t=t,this}get hasEnded(){return this.video.ended}get volume(){return this.video.volume||0}set volume(t){this.video.volume=t}setVolume(t){return this.volume=t,this}get muted(){return this.video.muted||!1}set muted(t){this.video.muted=t}setMute(t){return void 0===t&&(t=!0),this.muted=t,this}get loop(){return this.video.loop}set loop(t){this.video.loop=t}setLoop(t){return void 0===t&&(t=!0),this.loop=t,this}get readyState(){return this.video.readyState}}}},,,,,,function(t,e,i){"use strict";var s=i(2),r=i(5);const n=Phaser.Utils.Objects.GetValue,h=Phaser.Math.Distance.Between;class o{constructor(t,e){this.gameObject=t,this.scene=Object(s.a)(t),this.setEventEmitter(n(e,"eventEmitter",void 0)),t.setInteractive(n(e,"inputConfig",void 0)),this.resetFromJSON(e),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.setEnable(n(t,"enable",!0)),this.holdThreshold=n(t,"holdThreshold",50),this}boot(){this.gameObject.on("pointerdown",this.onPointIn,this),this.gameObject.on("pointerover",this.onPointIn,this),this.gameObject.on("pointerup",this.onPointOut,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("pointermove",this.onPointerMove,this),this.gameObject.on("destroy",this.destroy,this),this.scene.events.on("preupdate",this.preupdate,this)}shutdown(){this.destroyEventEmitter(),this.scene&&this.scene.events.off("preupdate",this.preupdate,this),this.pointer=void 0,this.gameObject=void 0,this.scene=void 0}destroy(){this.shutdown()}setEnable(t){return void 0===t&&(t=!0),this.enable===t?this:(t||(this.isInTouched=!1,this.pointer=void 0),this.enable=t,this.gameObject.input.enabled=t,this)}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get justMoved(){return this.pointer&&this.pointer.justMoved}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){return this.scene.sys.game.loop.delta}get speed(){return this.x===this.preX&&this.y===this.preY?0:h(this.preX,this.preY,this.x,this.y)/(.001*this.dt)}get speedX(){return this.dx/(.001*this.dt)}get speedY(){return this.dy/(.001*this.dt)}onPointIn(t,e,i){t.isDown&&void 0===this.pointer&&(this.pointer=t,this.localX=e,this.localY=i)}onPointOut(t){this.pointer===t&&(this.pointer=void 0)}onPointerMove(t,e,i){t.isDown&&this.pointer===t&&(this.localX=e,this.localY=i)}preupdate(t,e){var i=this.pointer;i&&!this.isInTouched?(this.x=i.x,this.y=i.y,this.preX=i.x,this.preY=i.y,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",i,this.localX,this.localY)):i&&this.isInTouched?this.x===i.x&&this.y===i.y?void 0===this.holdStartTime?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=i.x,this.y=i.y,this.holdStartTime=void 0,this.emit("touchmove",i,this.localX,this.localY)):!i&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",i))}}Object.assign(o.prototype,r.a);var a=o;e.a=a},,,,,function(t,e,i){"use strict";var s=i(45);const r=Phaser.Geom.Intersects.RectangleToRectangle,n=Phaser.Geom.Rectangle.Overlaps;var h=function(t,e){var i=0,s=e.top,r=e.bottom,n=e.left,h=e.right;return i+=t.contains(n,s)?1:0,i+=t.contains(n,r)?1:0,i+=t.contains(h,s)?1:0,i+=t.contains(h,r)?1:0},o=function(t,e){t.setVisible(!0).clearMask()},a=function(t,e){t.setVisible(!0).setMask(e)},l=function(t,e){t.setVisible(!1).clearMask()};e.a=function(t,e,i){if(e){void 0===i&&(i=t.getAllChildren());for(var d,c,u=t.getBounds(),p=Object(s.a)(e),g=0,v=i.length;g<v;g++)if(!(d=i[g]).hasOwnProperty("isRexContainerLite")&&d!==p){if(d.getBounds)switch(c=d.getBounds(c),h(u,c)){case 4:o(d,e);break;case 0:r(u,c)||n(u,c)?a(d,e):l(d,e);break;default:a(d,e)}else a(d,e);t.resetChildVisibleState(d).updateChildVisible(d)}}}},,,,,,,function(t,e,i){"use strict";var s=i(82),r=i(38);const n=Phaser.Utils.Objects.IsPlainObject,h=Phaser.Utils.Objects.GetValue;e.a=class extends(Object(s.a)(r.a)){constructor(t,e,i,s,r,o){n(e)?(e=h(o=e,"x",0),i=h(o,"y",0),s=h(o,"width",void 0),r=h(o,"height",void 0)):n(s)&&(s=h(o=s,"width",void 0),r=h(o,"height",void 0)),void 0===o&&(o={});var a=t.scale.autoRound;void 0!==s&&(a&&(s=Math.floor(s)),o.width=s),void 0!==r&&(a&&(r=Math.floor(r)),o.height=r),super(t,e,i,s,r),this.type="rexVideoCanvas",this.createVideoElement(o),this.load(h(o,"src",""))}renderWebGL(t,e,i,s,r){if(this.readyState>0)this.renderer.canvasToTexture(this.video,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture;else{var n=(t=this.renderer).gl;n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),t.setFramebuffer(null,!0)}super.renderWebGL(t,e,i,s,r)}renderCanvas(t,e,i,s,r){this.readyState>0?this.context.drawImage(this.video,0,0,this.canvas.width,this.canvas.height):this.context.clearRect(0,0,this.canvas.width,this.canvas.height),super.renderCanvas(t,e,i,s,r)}resize(t,e){return this.width===t&&this.height===e?this:(this.video.width=t,this.video.height=e,super.resize(t,e),this)}}},function(t,e,i){"use strict";var s=i(82);const r=Phaser.GameObjects.DOMElement,n=Phaser.Utils.Objects.IsPlainObject,h=Phaser.Utils.Objects.GetValue,o=r||Object;e.a=class extends(Object(s.a)(o)){constructor(t,e,i,s,r,o){n(e)?(e=h(o=e,"x",0),i=h(o,"y",0),s=h(o,"width",void 0),r=h(o,"height",void 0)):n(s)&&(s=h(o=s,"width",void 0),r=h(o,"height",void 0)),void 0===o&&(o={});var a=t.scale.autoRound;void 0!==s&&(a&&(s=Math.floor(s)),o.width=s),void 0!==r&&(a&&(r=Math.floor(r)),o.height=r),super(t,e,i),this.type="rexVideo",this.setElement(this.createVideoElement(o)).load(h(o,"src",""))}resize(t,e){return this.width===t&&this.height===e?this:(this.node.width=t,this.node.height=e,this.updateSize(),this)}}},,function(t,e,i){"use strict";var s=function(t,e){for(var i=document.getElementsByTagName("script"),s=!1,r=0,n=i.length;r<n;r++)if(-1!=i[r].src.indexOf(t)){s=!0;break}if(!s){var h=document.createElement("script");h.type="text/javascript",h.src=t,e&&(h.onload=e),document.getElementsByTagName("head")[0].appendChild(h)}},r=!1,n=[],h=function(t){r?t():(window.onYouTubeIframeAPIReady||(window.onYouTubeIframeAPIReady=function(){r=!0;for(var t=0,e=n.length;t<e;t++)n[t]();n=void 0},s("https://www.youtube.com/iframe_api")),n.push(t))};const o=Phaser.GameObjects.DOMElement,a=Phaser.Utils.Objects.IsPlainObject,l=Phaser.Utils.Objects.GetValue,d=Phaser.Math.Clamp,c=o||Object;e.a=class extends c{constructor(t,e,i,s,r,n){a(e)?(e=l(n=e,"x",0),i=l(n,"y",0),s=l(n,"width",void 0),r=l(n,"height",void 0)):a(s)&&(s=l(n=s,"width",void 0),r=l(n,"height",void 0)),void 0===n&&(n={});var o=t.scale.autoRound;void 0!==s&&(o&&(s=Math.floor(s)),n.width=s+"px"),void 0!==r&&(o&&(r=Math.floor(r)),n.height=r+"px"),super(t,e,i),this.type="rexYoutubePlayer",this.youtubePlayer=void 0,this.videoState=void 0,this.videoId=l(n,"videoId",""),this.loop=l(n,"loop",!1),this.paddingCallbacks=[];var d="YT"+Date.now(),c=document.createElement("div");c.id=d,c.style.width=n.width,c.style.height=n.height,this.setElement(c);var u={autoplay:l(n,"autoPlay",!0)?1:0,controls:l(n,"controls",!0)?1:0,disablekb:l(n,"keyboardControl",!0)?0:1,modestbranding:l(n,"modestBranding",!1)?1:0},p=function(){var t=new YT.Player(d,{videoId:this.videoId,playerVars:u,events:{onStateChange:function(t){this.videoState=t.data,this.emit("statechange",this),this.emit(this.videoStateString,this),this.videoState===YT.PlayerState.ENDED&&this.loop&&this.youtubePlayer.playVideo()}.bind(this),onReady:function(e){this.youtubePlayer=t;for(var i=0,s=this.paddingCallbacks.length;i<s;i++)this.paddingCallbacks[i]();this.paddingCallbacks=void 0,this.emit("ready",this)}.bind(this),onError:function(t){this.lastError=t.data,this.emit("error",this,this.lastError)}.bind(this)}});this.setElement(document.getElementById(d))}.bind(this);h(p)}_runCallback(t){void 0===this.youtubePlayer?this.paddingCallbacks.push(t):t()}get videoStateString(){if(void 0===this.videoState||!YT)return"";switch(this.videoState){case-1:return"unstarted";case YT.PlayerState.ENDED:return"ended";case YT.PlayerState.PLAYING:return"playing";case YT.PlayerState.PAUSED:return"pause";case YT.PlayerState.BUFFERING:return"buffering";case YT.PlayerState.CUED:return"cued"}}load(t,e){void 0===e&&(e=!0);var i=function(){this.youtubePlayer.loadVideoById(t),e?this.youtubePlayer.playVideo():this.youtubePlayer.pauseVideo()}.bind(this);return this._runCallback(i),this}play(){var t=function(){this.youtubePlayer.playVideo()}.bind(this);return this._runCallback(t),this}get isPlaying(){return 1===this.videoState}pause(){var t=function(){this.youtubePlayer.pauseVideo()}.bind(this);return this._runCallback(t),this}get isPaused(){return 2===this.videoState}get playbackTime(){return this.youtubePlayer?this.youtubePlayer.getCurrentTime():0}set playbackTime(t){var e=function(){this.youtubePlayer.seekTo(t)}.bind(this);this._runCallback(e)}setPlaybackTime(t){return this.playbackTime=t,this}get duration(){return this.youtubePlayer?this.youtubePlayer.getDuration():0}get t(){var t=this.duration;return 0===t?0:this.playbackTime/t}set t(t){var e=function(){t=d(t,0,1),this.playbackTime=this.duration*d(t,0,1)}.bind(this);this._runCallback(e)}setT(t){return this.t=t,this}get hasEnded(){return 0===this.videoState}get volume(){return this.youtubePlayer?this.youtubePlayer.getVolume()/100:0}set volume(t){var e=function(){this.youtubePlayer.setVolume(d(100*t,0,100))}.bind(this);this._runCallback(e)}setVolume(t){return this.volume=t,this}get muted(){return!!this.youtubePlayer&&this.youtubePlayer.isMuted()}set muted(t){var e=function(){t?this.youtubePlayer.mute():this.youtubePlayer.unMute()}.bind(this);this._runCallback(e)}setMute(t){return void 0===t&&(t=!0),this.muted=t,this}setLoop(t){return void 0===t&&(t=!0),this.loop=t,this}resize(t,e){if(this.width===t&&this.height===e)return this;var i=this.node.style;return i.width=t+"px",i.height=e+"px",this.updateSize(),this}}},,,,,,,,,,,,,,,,,,function(t,e){t.exports=function(t,e,i,s,r){0!==e.width&&0!==e.height&&t.batchSprite(e,e.frame,s,r)}},function(t,e){var i=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,s,r,n){if(0!==e.width&&0!==e.height){var h=e.frame,o=h.width,a=h.height,l=i.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,h.glTexture,o,a,e.x,e.y,o/e.style.resolution,a/e.style.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,o,a,l(e._tintTL,r.alpha*e._alphaTL),l(e._tintTR,r.alpha*e._alphaTR),l(e._tintBL,r.alpha*e._alphaBL),l(e._tintBR,r.alpha*e._alphaBR),e._isTinted&&e.tintFill,0,0,r,n)}}},function(t,e,i){"use strict";var s=i(59),r={};e.a=function(t,e){r.mode=1,r.end=0,r.duration=e;var i=new s.a(t,r);return i.start(),i}},,,function(t,e,i){var s=i(9),r=i(9);s=i(157),r=i(154),t.exports={renderWebGL:s,renderCanvas:r}},function(t,e,i){"use strict";function s(t,e,i){i=i||2;var s,o,a,l,d,p,v,f=e&&e.length,x=f?e[0]*i:t.length,b=r(t,0,x,i,!0),m=[];if(!b||b.next===b.prev)return m;if(f&&(b=function(t,e,i,s){var h,o,a,l,d,p=[];for(h=0,o=e.length;h<o;h++)a=e[h]*s,l=h<o-1?e[h+1]*s:t.length,(d=r(t,a,l,s,!1))===d.next&&(d.steiner=!0),p.push(g(d));for(p.sort(c),h=0;h<p.length;h++)u(p[h],i),i=n(i,i.next);return i}(t,e,b,i)),t.length>80*i){s=a=t[0],o=l=t[1];for(var y=i;y<x;y+=i)d=t[y],p=t[y+1],d<s&&(s=d),p<o&&(o=p),d>a&&(a=d),p>l&&(l=p);v=0!==(v=Math.max(a-s,l-o))?1/v:0}return h(b,m,i,s,o,v),m}function r(t,e,i,s,r){var n,h;if(r===T(t,e,i,s)>0)for(n=e;n<i;n+=s)h=w(n,t[n],t[n+1],h);else for(n=i-s;n>=e;n-=s)h=w(n,t[n],t[n+1],h);return h&&b(h,h.next)&&(O(h),h=h.next),h}function n(t,e){if(!t)return t;e||(e=t);var i,s=t;do{if(i=!1,s.steiner||!b(s,s.next)&&0!==x(s.prev,s,s.next))s=s.next;else{if(O(s),(s=e=s.prev)===s.next)break;i=!0}}while(i||s!==e);return e}function h(t,e,i,s,r,c,u){if(t){!u&&c&&function(t,e,i,s){var r=t;do{null===r.z&&(r.z=p(r.x,r.y,e,i,s)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,i,s,r,n,h,o,a,l=1;do{for(i=t,t=null,n=null,h=0;i;){for(h++,s=i,o=0,e=0;e<l&&(o++,s=s.nextZ);e++);for(a=l;o>0||a>0&&s;)0!==o&&(0===a||!s||i.z<=s.z)?(r=i,i=i.nextZ,o--):(r=s,s=s.nextZ,a--),n?n.nextZ=r:t=r,r.prevZ=n,n=r;i=s}n.nextZ=null,l*=2}while(h>1)}(r)}(t,s,r,c);for(var g,v,f=t;t.prev!==t.next;)if(g=t.prev,v=t.next,c?a(t,s,r,c):o(t))e.push(g.i/i),e.push(t.i/i),e.push(v.i/i),O(t),t=v.next,f=v.next;else if((t=v)===f){u?1===u?h(t=l(t,e,i),e,i,s,r,c,2):2===u&&d(t,e,i,s,r,c):h(n(t),e,i,s,r,c,1);break}}}function o(t){var e=t.prev,i=t,s=t.next;if(x(e,i,s)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(v(e.x,e.y,i.x,i.y,s.x,s.y,r.x,r.y)&&x(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function a(t,e,i,s){var r=t.prev,n=t,h=t.next;if(x(r,n,h)>=0)return!1;for(var o=r.x<n.x?r.x<h.x?r.x:h.x:n.x<h.x?n.x:h.x,a=r.y<n.y?r.y<h.y?r.y:h.y:n.y<h.y?n.y:h.y,l=r.x>n.x?r.x>h.x?r.x:h.x:n.x>h.x?n.x:h.x,d=r.y>n.y?r.y>h.y?r.y:h.y:n.y>h.y?n.y:h.y,c=p(o,a,e,i,s),u=p(l,d,e,i,s),g=t.prevZ,f=t.nextZ;g&&g.z>=c&&f&&f.z<=u;){if(g!==t.prev&&g!==t.next&&v(r.x,r.y,n.x,n.y,h.x,h.y,g.x,g.y)&&x(g.prev,g,g.next)>=0)return!1;if(g=g.prevZ,f!==t.prev&&f!==t.next&&v(r.x,r.y,n.x,n.y,h.x,h.y,f.x,f.y)&&x(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;g&&g.z>=c;){if(g!==t.prev&&g!==t.next&&v(r.x,r.y,n.x,n.y,h.x,h.y,g.x,g.y)&&x(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;f&&f.z<=u;){if(f!==t.prev&&f!==t.next&&v(r.x,r.y,n.x,n.y,h.x,h.y,f.x,f.y)&&x(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function l(t,e,i){var s=t;do{var r=s.prev,n=s.next.next;!b(r,n)&&m(r,s,s.next,n)&&y(r,n)&&y(n,r)&&(e.push(r.i/i),e.push(s.i/i),e.push(n.i/i),O(s),O(s.next),s=t=n),s=s.next}while(s!==t);return s}function d(t,e,i,s,r,o){var a=t;do{for(var l=a.next.next;l!==a.prev;){if(a.i!==l.i&&f(a,l)){var d=C(a,l);return a=n(a,a.next),d=n(d,d.next),h(a,e,i,s,r,o),void h(d,e,i,s,r,o)}l=l.next}a=a.next}while(a!==t)}function c(t,e){return t.x-e.x}function u(t,e){if(e=function(t,e){var i,s=e,r=t.x,n=t.y,h=-1/0;do{if(n<=s.y&&n>=s.next.y&&s.next.y!==s.y){var o=s.x+(n-s.y)*(s.next.x-s.x)/(s.next.y-s.y);if(o<=r&&o>h){if(h=o,o===r){if(n===s.y)return s;if(n===s.next.y)return s.next}i=s.x<s.next.x?s:s.next}}s=s.next}while(s!==e);if(!i)return null;if(r===h)return i.prev;var a,l=i,d=i.x,c=i.y,u=1/0;s=i.next;for(;s!==l;)r>=s.x&&s.x>=d&&r!==s.x&&v(n<c?r:h,n,d,c,n<c?h:r,n,s.x,s.y)&&((a=Math.abs(n-s.y)/(r-s.x))<u||a===u&&s.x>i.x)&&y(s,t)&&(i=s,u=a),s=s.next;return i}(t,e)){var i=C(e,t);n(i,i.next)}}function p(t,e,i,s,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-s)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function g(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i}function v(t,e,i,s,r,n,h,o){return(r-h)*(e-o)-(t-h)*(n-o)>=0&&(t-h)*(s-o)-(i-h)*(e-o)>=0&&(i-h)*(n-o)-(r-h)*(s-o)>=0}function f(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&m(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&y(t,e)&&y(e,t)&&function(t,e){var i=t,s=!1,r=(t.x+e.x)/2,n=(t.y+e.y)/2;do{i.y>n!=i.next.y>n&&i.next.y!==i.y&&r<(i.next.x-i.x)*(n-i.y)/(i.next.y-i.y)+i.x&&(s=!s),i=i.next}while(i!==t);return s}(t,e)}function x(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function b(t,e){return t.x===e.x&&t.y===e.y}function m(t,e,i,s){return!!(b(t,e)&&b(i,s)||b(t,s)&&b(i,e))||x(t,e,i)>0!=x(t,e,s)>0&&x(i,s,t)>0!=x(i,s,e)>0}function y(t,e){return x(t.prev,t,t.next)<0?x(t,e,t.next)>=0&&x(t,t.prev,e)>=0:x(t,e,t.prev)<0||x(t,t.next,e)<0}function C(t,e){var i=new S(t.i,t.x,t.y),s=new S(e.i,e.x,e.y),r=t.next,n=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,s.next=i,i.prev=s,n.next=s,s.prev=n,s}function w(t,e,i,s){var r=new S(t,e,i);return s?(r.next=s.next,r.prev=s,s.next.prev=r,s.next=r):(r.prev=r,r.next=r),r}function O(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function T(t,e,i,s){for(var r=0,n=e,h=i-s;n<i;n+=s)r+=(t[h]-t[n])*(t[n+1]+t[h+1]),h=n;return r}t.exports=s,s.deviation=function(t,e,i,s){var r=e&&e.length,n=r?e[0]*i:t.length,h=Math.abs(T(t,0,n,i));if(r)for(var o=0,a=e.length;o<a;o++){var l=e[o]*i,d=o<a-1?e[o+1]*i:t.length;h-=Math.abs(T(t,l,d,i))}var c=0;for(o=0;o<s.length;o+=3){var u=s[o]*i,p=s[o+1]*i,g=s[o+2]*i;c+=Math.abs((t[u]-t[g])*(t[p+1]-t[u+1])-(t[u]-t[p])*(t[g+1]-t[u+1]))}return 0===h&&0===c?0:Math.abs((c-h)/h)},s.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},s=0,r=0;r<t.length;r++){for(var n=0;n<t[r].length;n++)for(var h=0;h<e;h++)i.vertices.push(t[r][n][h]);r>0&&(s+=t[r-1].length,i.holes.push(s))}return i}},,,,function(t,e,i){"use strict";const s=Phaser.GameObjects.Text;e.a=function(t){return t instanceof s}},,function(t,e,i){"use strict";var s=new Phaser.Geom.Rectangle;e.a=function(t){var e=t.sys.game.config;return s.setTo(0,0,e.width,e.height),s}},function(t,e,i){"use strict";var s=i(5),r=i(2);const n=Phaser.Utils.Objects.GetValue;class h{constructor(t,e){this.gameObject=t,this.scene=Object(r.a)(t),this.setEventEmitter(n(e,"eventEmitter",void 0)),t.setInteractive(n(e,"inputConfig",void 0)),this.resetFromJSON(e),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(n(t,"enable",!0)),this.setMode(n(t,"mode",1)),this.setClickInterval(n(t,"clickInterval",100)),this.setDragThreshold(n(t,"threshold",void 0)),this}boot(){this.gameObject.on("pointerdown",this.onPress,this),this.gameObject.on("pointerup",this.onRelease,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("pointermove",this.onMove,this),this.gameObject.on("destroy",this.destroy,this)}shutdown(){this.destroyEventEmitter(),this.pointer=void 0,this.gameObject=void 0,this.scene=void 0}destroy(){this.shutdown()}setEnable(t){return void 0===t&&(t=!0),this.enable===t?this:(t||this.cancel(),this.enable=t,this.gameObject.input.enabled=t,this)}setMode(t){return"string"==typeof t&&(t=o[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t){void 0===this.pointer&&(this.pointer=t,0===this.mode&&this.click(t.downTime,t))}onRelease(t){this.pointer===t&&(1===this.mode&&this.click(t.upTime,t),this.pointer=void 0)}onPointOut(t){this.pointer===t&&this.cancel()}onMove(t){this.pointer===t&&void 0!==this.dragThreshold&&t.getDistance()>=this.dragThreshold&&this.cancel()}click(t,e){if(void 0===t)return this.emit("click",this,this.gameObject,e),this;this.pointer=void 0;var i=this.lastClickTime;return void 0!==i&&t-i<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.gameObject,e),this)}cancel(){return this.pointer=void 0,this}}Object.assign(h.prototype,s.a);const o={press:0,pointerdown:0,release:1,pointerup:1};e.a=h},,,,,,,,function(t,e,i){"use strict";var s=i(2);const r=Phaser.Events.EventEmitter,n=Phaser.Utils.Objects.GetFastValue,h=Phaser.Utils.Objects.GetValue;var o=function(t){return Array.isArray(t)?t=t.join("\n"):"number"==typeof t&&(t=t.toString()),t};const a={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3};var l=class extends r{constructor(t,e){super(),this.gameObject=t,this.scene=Object(s.a)(t),this.timer=null,this.resetFromJSON(e),this.boot()}resetFromJSON(t){this.setTypeMode(h(t,"typeMode",0)),this.setTypeSpeed(h(t,"speed",333)),this.setTextCallback=n(t,"setTextCallback",null),this.setTextCallbackScope=n(t,"setTextCallbackScope",null),this.typingIdx=n(t,"typingIdx",0),this.text=o(n(t,"text","")),this.textLen=n(t,"textLen",0),this.insertIdx=n(t,"insertIdx",null);var e=n(t,"elapsed",null);return null!==e&&this.start(void 0,void 0,this.typingIdx,e),this}toJSON(){var t,e=this.getTimer();return t=e?e.elapsed:null,{typeMode:this.typeMode,speed:this.speed,setTextCallback:this.setTextCallback,setTextCallbackScope:this.setTextCallbackScope,typingIdx:this.typingIdx,text:this.text,textLen:this.textLen,insertIdx:this.insertIdx,elapsed:t}}boot(){return this.gameObject.on&&this.gameObject.on("destroy",this.destroy,this),this}shutdown(){return super.shutdown(),this.freeTimer(),this.gameObject=void 0,this.scene=void 0,this}destroy(){return this.shutdown(),this}setTypeMode(t){return"string"==typeof t&&(t=a[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}get isTyping(){return null!==this.getTimer()}get isLastChar(){return this.typingIdx===this.textLen}start(t,e,i,s){return void 0!==t&&this.setTypingContent(t),void 0!==e&&(this.speed=e),void 0===i&&(i=0),this.typingIdx=i+1,0===this.speed?this.stop(!0):this.startTimer(s),this}appendText(t){var e=this.text.concat(o(t));return this.isTyping?this.setTypingContent(e):this.start(e,void 0,this.textLen),this}stop(t){return this.getTimer()&&this.freeTimer(),t&&(this.typingIdx=this.textLen,this.setText(this.text),this.emit("type"),this.emit("complete",this,this.gameObject)),this}pause(){var t=this.getTimer();return t&&(t.paused=!0),this}resume(){var t=this.getTimer();return t&&(t.paused=!1),this}setTypingContent(t){return this.text=o(t),this.textLen=this.getTextLength(this.text),this}onTyping(){var t=this.getTypingString(this.text,this.typingIdx,this.textLen,this.typeMode);this.setText(t),this.emit("type"),this.isLastChar?(this.freeTimer(),this.emit("complete",this,this.gameObject)):(this.timer.delay=this.speed,this.typingIdx++)}getTypingString(t,e,i,s){var r;if(0===s){var n=0,h=e;this.insertIdx=h,r=this.getSubString(t,n,h)}else if(1===s)n=(h=i)-e,this.insertIdx=0,r=this.getSubString(t,n,h);else if(2===s){var o=i/2;h=(n=Math.floor(o-e/2))+e,this.insertIdx=e%2?e:0,r=this.getSubString(t,n,h)}else if(3===s){var a,l=Math.floor(e/2);l>0?(n=(h=i)-l,a=this.getSubString(t,n,h)):a="";var d,c=e-l;c>0?(h=(n=0)+c,this.insertIdx=h,d=this.getSubString(t,n,h)):(d="",this.insertIdx=0),r=d+a}return r}startTimer(t){var e;return this.timer&&this.freeTimer(),void 0===t?e=0:(this.speed,e=t),this.timer=this.scene.time.addEvent({delay:0,startAt:e,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(t=this.setTextCallbackScope?this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIdx):this.setTextCallback(t,this.isLastChar,this.insertIdx)),this.gameObject.setText(t)}getTextLength(t){var e=this.gameObject;return e.getPlainText?e.getPlainText(t).length:t.length}getSubString(t,e,i){var s=this.gameObject;return s.getSubString?s.getSubString(t,e,i):t.slice(e,i)}};e.a=l},function(t,e,i){"use strict";var s=i(2),r=i(131);const n=Phaser.Utils.Objects.GetValue,h=Phaser.Math.Clamp;var o=function(t){return Array.isArray(t)?t=t.join("\n"):"number"==typeof t&&(t=t.toString()),t},a=class{constructor(t,e){this.gameObject=t,this.scene=Object(s.a)(t),this.setTextObjectType(),this.lines=void 0,this.resetFromJSON(e),this.boot()}resetFromJSON(t){return this.setText(n(t,"text","")),this.setStartIdx(n(t,"start",0)),this.setPageIdx(n(t,"page",-1)),this}toJSON(){return{text:this.text,start:this.startLineIdx,page:this.pageIndex,pageCount:this.pageCount}}boot(){this.gameObject.on&&this.gameObject.on("destroy",this.destroy,this)}shutdown(){return void 0===this.lines||(0===this.textObjectType?this.lines.length=0:this.lines.destroy()),this.gameObject=void 0,this.scene=void 0,this}destroy(){this.shutdown()}setTextObjectType(){return this.textObjectType=Object(r.a)(this.gameObject)?0:1,this}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}setText(t,e){return void 0===e&&(e=!0),this.text=o(t),0===this.textObjectType?this.lines=this.gameObject.getWrappedText(this.text):this.lines=this.gameObject.getPenManager(this.text,this.lines),this.pageCount=Math.ceil(this.totalLinesCount/this.pageLinesCount),e&&this.resetPageIdx(),this}appendText(t){return this.setText(this.text.concat(o(t))),this}getPage(t){return void 0===t&&(t=this.pageIndex),this.setPageIdx(t).getLines()}getNextPage(){return this.getPage(this.pageIndex+1)}getPreviousPage(){return this.getPage(this.pageIndex-1)}showPage(t){return this.displayText(this.getPage()),this}showNextPage(){return this.displayText(this.getNextPage()),this}showPreviousPage(){return this.displayText(this.getPreviousPage()),this}show(){return this.displayText(this.getLines()),this}showNextLine(){return this.displayText(this.setStartIdx(this.startLineIdx+1).getLines()),this}showPreviousLine(){return this.displayText(this.setStartIdx(this.startLineIdx-1).getLines()),this}setStartIdx(t){return t=h(t,0,this.totalLinesCount-1),this.startLineIdx=t,this}resetPageIdx(){this.pageIndex=-1}setPageIdx(t){return t=h(t,0,this.pageCount-1),this.pageIndex=t,this.setStartIdx(this.pageIndex*this.pageLinesCount),this}get totalLinesCount(){return 0===this.textObjectType?this.lines.length:this.lines.linesCount}get pageLinesCount(){var t=this.gameObject.style.maxLines;return t>0?t:this.totalLinesCount}getLines(t){void 0===t&&(t=this.startLineIdx);var e,i=t+this.pageLinesCount;if(0===this.textObjectType)e=this.lines.slice(t,i).join("\n");else{var s=this.lines.getLineStartIndex(t),r=this.lines.getLineEndIndex(i-1);e=this.lines.getSliceTagText(s,r,!0)}return e}displayText(t){this.gameObject.setText(t)}};e.a=a},function(t,e,i){"use strict";var s=i(2),r=i(5),n=i(13);var h=class extends n.a{constructor(t,e){super(e),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,e=this.parent;return e.dragState.isDown&&(t=0===e.dragThreshold?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,e){this.next()}next_DRAGBEGIN(){var t=this.parent,e=t.dragState;return e.isDown?e.pointer.getDistance()>=t.dragThreshold?"DRAG":"DRAGBEGIN":"IDLE"}update_DRAGBEGIN(t,e){this.next()}next_DRAG(){var t,e=this.parent;return e.dragState.isUp&&(t=e.outOfBounds?"BACK":e.slidingEnable?"SLIDE":"IDLE"),t}update_DRAG(t,e){var i=this.parent;i.dragState.justMoved&&i.dragging(),this.next()}next_SLIDE(){var t,e=this.parent;return e.dragState.isDown?t="DRAG":e.isSliding||(t="IDLE"),t}enter_SLIDE(){this.parent.onSliding()}exit_SLIDE(){this.parent.stop()}update_SLIDE(t,e){this.parent.sliding(t,e),this.next()}next_BACK(){var t,e=this.parent;return e.dragState.isDown?t="DRAG":e.isPullBack||(t="IDLE"),t}enter_BACK(){this.parent.onPullBack()}exit_BACK(){this.parent.stop()}update_BACK(t,e){this.parent.pullBack(t,e),this.next()}},o=i(88);const a=Phaser.Utils.Objects.GetValue;var l=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(a(t,"value",0)),this.setSpeed(a(t,"speed",0)),this.setAcceleration(a(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return 0!==this.acceleration&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}};var d=class{constructor(){this.value,this.dir,this.movement=new l}init(t,e,i,s,r){return this.value=t,this.end=r,this.dir=void 0!==r?t<r:e,this.movement.setSpeed(i).setAcceleration(-s),this}stop(){this.movement.reset()}update(t){var e=this.movement.getDeltaValue(t);return this.dir||(e=-e),void 0===this.end?this.value+=e:0===e?this.value=this.end:(this.value+=e,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}};const c=Phaser.Utils.Objects.GetValue;class u{constructor(t,e){this.gameObject=t,this.scene=Object(s.a)(t),this.setEventEmitter(c(e,"eventEmitter",void 0));var i=c(e,"enable",!0),r={enable:i,eventEmitter:!1};this._state=new h(this,r);var n={inputConfig:c(e,"inputConfig",void 0),enable:i,eventEmitter:!1};this.dragState=new o.a(t,n),this._value=void 0,this._slowDown=new d;var a=c(e,"valuechangeCallback",null);if(null!==a){var l=c(e,"valuechangeCallbackScope",void 0);this.on("valuechange",a,l)}if(null!==(a=c(e,"overmaxCallback",null))){l=c(e,"overmaxCallbackScope",void 0);this.on("overmax",a,l)}if(null!==(a=c(e,"overminCallback",null))){l=c(e,"overminCallbackScope",void 0);this.on("overmin",a,l)}this.resetFromJSON(e),this.boot()}resetFromJSON(t){this.setOrientationMode(c(t,"orientation",0)),this.setDragThreshold(c(t,"threshold",10)),this.setSlidingDeceleration(c(t,"slidingDeceleration",5e3)),this.setBackDeceleration(c(t,"backDeceleration",2e3));var e=c(t,"bounds",void 0);return e?this.setBounds(e):this.setBounds(c(t,"max",0),c(t,"min",0)),this.setValue(c(t,"value",this.maxValue||0)),this.setEnable(c(t,"enable",!0)),this}boot(){this.scene.events.on("update",this._state.update,this._state),this.gameObject.on("destroy",this.destroy,this)}shutdown(){this.destroyEventEmitter(),this.scene&&this.scene.events.off("update",this._state.update,this._state),this.gameObject=void 0,this.scene=void 0,this._state.destroy(),this.dragState.destroy()}destroy(){this.shutdown()}setOrientationMode(t){return"string"==typeof t&&(t=p[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setBounds(t,e){if(Array.isArray(t)){var i=t;t=i[0],e=i[1]}return t<e?(this.minValue=t,this.maxValue=e):(this.minValue=e,this.maxValue=t),this}get value(){return this._value}set value(t){if(t!==this._value){var e=this._value,i=this.overMax(t),s=this.overMin(t);i&&this.emit("overmax",t,e),s&&this.emit("overmin",t,e),this.backEnable||(i&&(t=this.maxValue),s&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,e)}}setValue(t){this.value=t}setEnable(t){return this._state.setEnable(t),this.dragState.setEnable(t),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return null!=this.maxValue&&t>this.maxValue}overMin(t){return null!=this.minValue&&t<this.minValue}get backEnable(){return"number"==typeof this.backDeceleration}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return"number"==typeof this.slidingDeceleration}get isSliding(){return this._slowDown.isMoving}get dragDelta(){return 0===this.orientationMode?this.dragState.dy:1===this.orientationMode?this.dragState.dx:0}get dragSpeed(){return 0===this.orientationMode?this.dragState.speedY:1===this.orientationMode?this.dragState.speedX:0}dragging(){this.value+=this.dragDelta}onSliding(){var t=this.value,e=this.dragSpeed;if(0===e)return this._slowDown.stop(),void this._state.next();var i=this.slidingDeceleration;this._slowDown.init(t,e>0,Math.abs(e),i)}sliding(t,e){e*=.001;var i=this._slowDown.update(e).value;this.overMax(i)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(i)?(this.value=this.minValue,this._slowDown.stop()):this.value=i}onPullBack(){var t=this.value,e=this.outOfMinBound?this.minValue:this.maxValue,i=Math.abs(e-t),s=this.backDeceleration,r=Math.sqrt(2*s*i);this._slowDown.init(t,void 0,r,s,e)}pullBack(t,e){e*=.001,this.value=this._slowDown.update(e).value,this._slowDown.isMoving||this._state.next()}stop(){this._slowDown.stop()}}Object.assign(u.prototype,r.a);const p={y:0,v:0,vertical:0,x:1,h:1,horizontal:1};var g=u;e.a=g},function(t,e,i){"use strict";var s=i(48),r={};e.a=function(t,e,i,n){switch(r.mode=0,i){case"x":r.start={x:0};break;case"y":r.start={y:0};break;default:r.start=0}r.end=1,r.duration=e,r.ease=void 0===n?"Cubic":n;var h=new s.a(t,r);return h.start(),h}},function(t,e,i){"use strict";var s=i(48),r={};e.a=function(t,e,i,n){switch(r.mode=1,i){case"x":r.end={x:0};break;case"y":r.end={y:0};break;default:r.end=0}r.duration=e,r.ease=void 0===n?"Linear":n;var h=new s.a(t,r);return h.start(),h}},,,,function(t,e,i){"use strict";var s=function(t,e){for(var i=t.scene,s=i.input.cameras.getCamerasBelowPointer(e),r=i.input.manager,n=[t],h=0,o=s.length;h<o;h++)if(r.hitTest(e,n,s[h]).length>0)return!0;return!1};e.a=function(t,e,i,r){var n=!1;if(e)return!(i&&!i(t,e))&&!((n=s(t,e))&&r&&!r(t,e))&&n;for(var h=t.scene.input.manager,o=h.pointersTotal,a=h.pointers,l=0;l<o;l++)if(n=!1,e=a[l],(!i||i(t,e))&&(!(n=s(t,e))||!r||r(t,e))&&n)return!0;return!1}},,function(t,e){t.exports=function(t,e){var i=e.strokeColor,s=e.strokeAlpha,r=(16711680&i)>>>16,n=(65280&i)>>>8,h=255&i;t.strokeStyle="rgba("+r+","+n+","+h+","+s+")",t.lineWidth=e.lineWidth}},function(t,e){t.exports=function(t,e,i){var s=i||e.fillColor,r=e.fillAlpha,n=(16711680&s)>>>16,h=(65280&s)>>>8,o=255&s;t.fillStyle="rgba("+n+","+h+","+o+","+r+")"}},function(t,e,i){var s=i(153),r=i(152),n=Phaser.Renderer.Canvas.SetTransform;t.exports=function(t,e,i,h,o){var a=t.currentContext;if(n(t,a,e,h,o)){var l=e._displayOriginX,d=e._displayOriginY,c=e.pathData,u=c.length-1,p=c[0]-l,g=c[1]-d;a.beginPath(),a.moveTo(p,g),e.closePath||(u-=2);for(var v=2;v<u;v+=2){var f=c[v]-l,x=c[v+1]-d;a.lineTo(f,x)}a.closePath(),e.isFilled&&(s(a,e),a.fill()),e.isStroked&&(r(a,e),a.stroke()),a.restore()}}},function(t,e){var i=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,s,r,n){var h=t.strokeTint,o=i.getTintAppendFloatAlphaAndSwap(e.strokeColor,e.strokeAlpha*s);h.TL=o,h.TR=o,h.BL=o,h.BR=o;var a=e.pathData,l=a.length-1,d=e.lineWidth,c=d/2,u=a[0]-r,p=a[1]-n;e.closePath||(l-=2);for(var g=2;g<l;g+=2){var v=a[g]-r,f=a[g+1]-n;t.setTexture2D(),t.batchLine(u,p,v,f,c,c,d,g-2,!!e.closePath&&g===l-1),u=v,p=f}}},function(t,e){var i=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,s,r,n,h){for(var o=i.getTintAppendFloatAlphaAndSwap(s.fillColor,s.fillAlpha*r),a=s.pathData,l=s.pathIndexes,d=0;d<l.length;d+=3){var c=2*l[d],u=2*l[d+1],p=2*l[d+2],g=a[c+0]-n,v=a[c+1]-h,f=a[u+0]-n,x=a[u+1]-h,b=a[p+0]-n,m=a[p+1]-h,y=e.getX(g,v),C=e.getY(g,v),w=e.getX(f,x),O=e.getY(f,x),S=e.getX(b,m),T=e.getY(b,m);t.setTexture2D(),t.batchTri(y,C,w,O,S,T,0,0,1,1,o,o,o,t.tintEffect)}}},function(t,e,i){var s=i(156),r=i(155);t.exports=function(t,e,i,n,h){var o=this.pipeline,a=o._tempMatrix1,l=o._tempMatrix2,d=o._tempMatrix3;t.setPipeline(o),l.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),a.copyFrom(n.matrix),h?(a.multiplyWithOffset(h,-n.scrollX*e.scrollFactorX,-n.scrollY*e.scrollFactorY),l.e=e.x,l.f=e.y):(l.e-=n.scrollX*e.scrollFactorX,l.f-=n.scrollY*e.scrollFactorY),a.multiply(l,d);var c=e._displayOriginX,u=e._displayOriginY,p=n.alpha*e.alpha;e.isFilled&&s(o,d,e,p,c,u),e.isStroked&&r(o,e,p,c,u)}},,function(t,e,i){"use strict";var s=i(2),r=i(80);const n=Phaser.Utils.Objects.GetValue;var h=function(t,e){void 0===e&&(e={});var i=t.scene,s=t.style,h=n(e,"backgroundColor",s.backgroundColor);null===h&&(h="transparent"),e.text=n(e,"text",t.text),e.fontFamily=n(e,"fontFamily",s.fontFamily),e.fontSize=n(e,"fontSize",s.fontSize),e.color=n(e,"color",s.color),e.backgroundColor=h;var o=new r.a(i,t.x,t.y,n(e,"width",t.width),n(e,"height",t.height),e);return o.setOrigin(t.originX,t.originY),i.add.existing(o),o},o=i(62);const a=Phaser.Utils.Objects.GetValue;var l=void 0;e.a=class{constructor(t){this.gameObject=t,this.scene=Object(s.a)(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.boot()}boot(){return this.gameObject.on&&this.gameObject.on("destroy",this.destroy,this),this}shutdown(){return this.close(),this.gameObject=void 0,this.scene=void 0,l===this&&(l=void 0),this}destroy(){return this.shutdown(),this}open(t,e){void 0!==l&&l.close(),l=this,Object(o.a)(t)&&(e=t,t=void 0),void 0===e&&(e=a(t,"onClose",void 0));var i=a(t,"onTextChanged",void 0);return this.inputText=h(this.gameObject,t).on("textchange",function(t){var e=t.text;i?i(this.gameObject,e):this.gameObject.text=e},this).setFocus(),this.gameObject.setVisible(!1),this.onClose=e,this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=this.scene.time.delayedCall(0,function(){this.scene.input.once("pointerdown",this.close,this)},[],this),this}close(){return l=void 0,this.inputText?(this.gameObject.setVisible(!0),this.inputText.destroy(),this.inputText=void 0,this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.gameObject),this):this}get isOpened(){return void 0!==this.inputText}get text(){return this.isOpened?this.inputText.text:this.gameObject.text}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";const s=Phaser.Geom.Rectangle;var r=function(t,e){void 0===e&&(e=new s);var i=t.canvasBounds,r=t.displayScale,n=t.autoCenter;return e.x=i.x>=0?0:-i.x*r.x,e.y=i.y>=0?0:-i.y*r.y,e.width=i.width*r.x-e.x,e.height=i.height*r.y-e.y,1!==n&&2!==n||(e.width-=e.x),1!==n&&3!==n||(e.height-=e.y),e};const n=Phaser.Utils.Objects.GetValue,h=Phaser.Geom.Rectangle;e.a=class{constructor(t,e){this.gameObject=t,this.viewport=new h,this.resetFromJSON(e),this.boot()}resetFromJSON(t){var e,i;if("string"==typeof t){var s=t.split(",");e=s[0],i=s[1]}else e=n(t,"x","0%+0"),i=n(t,"y","0%+0");e=e.replace("left","0%").replace("right","100%").replace("center","50%").split("%");var r=parseFloat(e[0])/100,h=""===e[1]?0:parseFloat(e[1]);i=i.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%");var o=parseFloat(i[0])/100,a=""===i[1]?0:parseFloat(i[1]);return this.setPercentage(r,o),this.setOffset(h,a),this}boot(){var t=this.gameObject;this.scaleManamger.on("resize",this.onResize,this),t.on("destroy",this.destroy,this),this.onResize()}shutdown(){this.scaleManamger.off("resize",this.onResize,this),this.gameObject=void 0}destroy(){this.shutdown()}setOffset(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.offsetX=t,this.offsetY=e,this}setPercentage(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.percentageX=t,this.percentageY=e,this}onResize(){r(this.scaleManamger,this.viewport),this.updatePosition()}updatePosition(){return this.gameObject.setPosition(this.x,this.y),this}get scaleManamger(){return this.gameObject.scene.scale}get x(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get y(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}}},,function(t,e,i){"use strict";var s=i(159);e.a=function(t,e,i){return t._edit||(t._edit=new s.a(t)),t._edit.open(e,i),t._edit}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);class s{constructor(t){this.scene=t}static register(t,e){s.prototype[t]=e}}var r=s,n=i(67).a,h=i(3);r.register("roundRectangle",function(t,e,i,s,r,h,o){var a=new n(this.scene,t,e,i,s,r,h,o);return this.scene.add.existing(a),a}),Object(h.a)(window,"RexPlugins.UI.RoundRectangle",n);var o=i(64).a;r.register("BBCodeText",function(t,e,i,s){var r=new o(this.scene,t,e,i,s);return this.scene.add.existing(r),r}),Object(h.a)(window,"RexPlugins.UI.BBCodeText",o);var a=i(65).a;r.register("tagText",function(t,e,i,s){var r=new a(this.scene,t,e,i,s);return this.scene.add.existing(r),r}),Object(h.a)(window,"RexPlugins.UI.TagText",a);var l=i(26).a;r.register("container",function(t,e,i,s,r){var n=new l(this.scene,t,e,i,s,r);return this.scene.add.existing(n),n}),Object(h.a)(window,"RexPlugins.UI.Container",l);var d=function(t){return t.hasOwnProperty("rexSizer")||(t.rexSizer={}),t.rexSizer},c=i(133),u=function(t){return void 0===t&&(t=Object(c.a)(this.scene)),this.left=Math.max(this.left,t.left),this.right=Math.min(this.right,t.right),this.top=Math.max(this.top,t.top),this.bottom=Math.min(this.bottom,t.bottom),this},p=new Phaser.Geom.Rectangle,g=function(t,e){void 0===e&&(e=16777215);for(var i,s=this.getAllChildren([this]),r=0,n=s.length;r<n;r++)(i=s[r]).getBounds&&t.lineStyle(1,e).strokeRectShape(i.getBounds(p));return this},v=function(t,e){return void 0===this.childrenMap&&(this.childrenMap={}),this.childrenMap[t]=e,this},f=function(t,e){var i;for(var s in void 0===e&&(e=[]),t)void 0!==(i=t[s]).name?e.push(i):f(i,e);return e};const x=/(\S+)\[(\d+)\]/i;var b=[],m=function(t){if(void 0!==this.childrenMap&&("string"==typeof t&&(t=t.split(".")),0!==t.length)){var e,i=t.shift();if("#"===i.charAt(0)){i=i.substring(1);for(var s=0,r=(n=f(this.childrenMap,b)).length;s<r;s++)if(n[s].name===i){e=n[s];break}b.length=0}else if(-1===i.indexOf("["))e=this.childrenMap[i];else{var n,h=i.match(x);null!=h&&(n=this.childrenMap[h[1]])&&(e=n[h[2]])}return 0===t.length?e:e&&e.childrenMap?e.getElement(t):null}},y=function(){return 0},C=function(){return 0},w=function(t){void 0===t&&(t=[]);for(var e=t.length,i=this.getChildrenSizers(t),s=t.length,r=e;r<s;r++)i[r].getAllChildrenSizers(t);return t},O=function(t){return void 0===t&&(t=[]),t},S=function(t,e,i){},T=function(t){if(!t)for(var e,i=this.getAllChildrenSizers([this]),s=0,r=i.length;s<r;s++)(e=i[s]).rexSizer&&e._layoutInit()},P=function(){},M=i(145);const k=Phaser.Utils.Objects.IsPlainObject,E=Phaser.Utils.Objects.GetValue;var j=i(146);const _=Phaser.Utils.Objects.IsPlainObject,I=Phaser.Utils.Objects.GetValue;var z=i(59),Y={},R=function(t,e,i){void 0===i&&(i=t.alpha),Y.mode=0,Y.start=0,Y.end=i,Y.duration=e;var s=new z.a(t,Y);return s.start(),s};const L=Phaser.Utils.Objects.IsPlainObject,D=Phaser.Utils.Objects.GetValue;var B=i(123);const H=Phaser.Utils.Objects.IsPlainObject,W=Phaser.Utils.Objects.GetValue;var X=i(150),V=function(t,e){return e.isDown},F=function(t){return this.input||this.setInteractive(),Object(X.a)(this,t,V)},A=function(t){void 0===t&&(t=this);for(var e=d(t).parent;e;)e=d(t=e).parent;return t},G=i(42),U=i(19);const N=Phaser.Display.Align.In.QuickSet,Z=Phaser.Display.Align.CENTER;var J=function(t,e,i){var s=this.getTopmostSizer();s.x+=e-this.x,s.y+=i-this.y},K={draggable:!0},Q={getSizerConfig:d,pushIntoBounds:u,drawBounds:g,getChildrenWidth:y,getChildrenHeight:C,addChildrenMap:v,addElement:v,getElement:m,getAllChildrenSizers:w,getChildrenSizers:O,layout:S,layoutBackgrounds:function(){if(void 0!==this.backgroundChildren)for(var t,e=this.backgroundChildren,i=this.left,s=this.top,r=this.width,n=this.height,h=0,o=e.length;h<o;h++)(t=e[h]).rexSizer.hidden||(Object(G.a)(t,r,n),U.a.setPosition(i,s).setSize(r,n),N(t,U.a,Z),this.resetChildPositionState(t))},layoutInit:T,_layoutInit:P,popUp:function(t,e,i){if(k(t)){var s=t;t=E(s,"duration",void 0),e=E(s,"orientation",void 0),i=E(s,"ease",void 0)}return Object(M.a)(this,t,e,i),this},scaleDownDestroy:function(t,e,i){if(_(t)){var s=t;t=I(s,"duration",void 0),e=I(s,"orientation",void 0),i=I(s,"ease",void 0)}return Object(j.a)(this,t,e,i),this},fadeIn:function(t){L(t)&&(t=D(t,"duration",void 0));return R(this,t),this},fadeOutDestroy:function(t){H(t)&&(t=W(t,"duration",void 0));return Object(B.a)(this,t),this},isInTouching:F,getTopmostSizer:A,setDraggable:function(t){return void 0===t&&(t=!0),this.input&&this.input.hasOwnProperty("draggable")?this.input.draggable=t:t&&(this.setInteractive(K),this.scene.input.setDraggable(this),this.on("drag",J,this)),this}},q=i(204);const $=Phaser.Utils.Objects.GetValue;class tt extends l{constructor(t,e,i,s,r,n){var h,o;"string"==typeof e&&(h=e,o=i,e=0,i=0),super(t,e,i,2,2),this.isRexSizer=!0,this.setMinSize(s,r),this.setName($(n,"name","")),this.rexSizer={},this.backgroundChildren=void 0,void 0!==h&&(this._anchor=new q.a(this,{x:h,y:o})),this.setDraggable($(n,"draggable",!1))}destroy(t){this.scene&&(void 0!==this.backgroundChildren&&(this.backgroundChildren.length=0),super.destroy(t))}setMinSize(t,e){return this.setMinWidth(t).setMinHeight(e),this}setMinWidth(t){return null==t&&(t=0),this.minWidth=t,this}setMinHeight(t){return null==t&&(t=0),this.minHeight=t,this}get childrenWidth(){return void 0===this._childrenWidth&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return void 0===this._childrenHeight&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-this.displayWidth*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.x-this.displayWidth*this.originX+this.displayWidth}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return(this.left+this.right)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-this.displayHeight*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.y-this.displayHeight*this.originY+this.displayHeight}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return(this.top+this.bottom)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}pin(t){return super.add(t),this}addBackground(t){return void 0===this.backgroundChildren&&(this.backgroundChildren=[]),super.add(t),this.getSizerConfig(t).parent=this,this.backgroundChildren.push(t),this}}Object.assign(tt.prototype,Q);var et=tt,it=function(t){if(this.rexSizer.hidden)return 0;void 0===t&&(t=!0);var e,i,s,r=0,n=this.sizerChildren;if(0===this.orientation)for(var h=0,o=n.length;h<o;h++)(e=n[h]).rexSizer.hidden||(s=0===e.rexSizer.proportion||t&&e.rexSizer.proportion>0?e.isRexSizer?Math.max(e.minWidth,e.childrenWidth):e.width:0,r+=s+=(i=e.rexSizer.padding).left+i.right);else for(h=0,o=n.length;h<o;h++)(e=n[h]).hasOwnProperty("rexSizer")&&(e.rexSizer.hidden||(s=e.isRexSizer?Math.max(e.minWidth,e.childrenWidth):e.width,s+=(i=e.rexSizer.padding).left+i.right,r=Math.max(s,r)));return r},st=function(t){if(this.rexSizer.hidden)return 0;void 0===t&&(t=!0);var e,i,s,r=0,n=this.sizerChildren;if(0===this.orientation)for(var h=0,o=n.length;h<o;h++)(e=n[h]).rexSizer.hidden||(s=e.isRexSizer?Math.max(e.minHeight,e.childrenHeight):e.height,s+=(i=e.rexSizer.padding).top+i.bottom,r=Math.max(s,r));else for(h=0,o=n.length;h<o;h++)(e=n[h]).hasOwnProperty("rexSizer")&&(e.rexSizer.hidden||(s=0===e.rexSizer.proportion||t&&e.rexSizer.proportion>0?e.isRexSizer?Math.max(e.minHeight,e.childrenHeight):e.height:0,r+=s+=(i=e.rexSizer.padding).top+i.bottom));return r},rt=function(){for(var t,e,i=0,s=this.sizerChildren,r=0,n=s.length;r<n;r++)(t=s[r]).rexSizer.hidden||(e=t.rexSizer.proportion)>0&&(i+=e);return i},nt=function(t){void 0===t&&(t=[]);for(var e,i=this.sizerChildren,s=0,r=i.length;s<r;s++)(e=i[s]).isRexSizer&&t.push(e);return t},ht=function(t,e){var i,s=e.rexSizer,r=s.padding;return 0===t.orientation?s.proportion>0&&t.proportionLength>0&&(i=s.proportion*t.proportionLength):s.expand&&(i=t.width-r.left-r.right),i},ot=function(t,e){var i,s=e.rexSizer,r=s.padding;return 0===t.orientation?s.expand&&(i=t.height-r.top-r.bottom):s.proportion>0&&t.proportionLength>0&&(i=s.proportion*t.proportionLength),i};const at=Phaser.Display.Align.In.QuickSet;var lt={getChildrenWidth:it,getChildrenHeight:st,getChildrenProportion:rt,getChildrenSizers:nt,layout:function(t,e,i){if(this.rexSizer.hidden)return this;var s;if(this.layoutInit(t),void 0===e&&(e=Math.max(this.childrenWidth,this.minWidth)),void 0===i&&(i=Math.max(this.childrenHeight,this.minHeight)),this.resize(e,i),this.childrenProportion>0){var r=0===this.orientation?this.width-this.childrenWidth:this.height-this.childrenHeight;s=r>0?(r=0===this.orientation?this.width-this.getChildrenWidth(!1):this.height-this.getChildrenHeight(!1))/this.childrenProportion:0}else s=0;this.proportionLength=s;for(var n,h,o,a,l,d,c,u,p,g=this.sizerChildren,v=this.left,f=this.top,x=0,b=g.length;x<b;x++)(n=g[x]).rexSizer.hidden||(o=(h=n.rexSizer).padding,u=ht(this,n),p=ot(this,n),n.isRexSizer?n.layout(this,u,p):Object(G.a)(n,u,p),void 0===u&&(u=n.width),void 0===p&&(p=n.height),0===this.orientation?(a=v+o.left,d=0===h.proportion||0===s?u:h.proportion*s,l=f+o.top,c=this.height-o.top-o.bottom):(a=v+o.left,d=this.width-o.left-o.right,l=f+o.top,c=0===h.proportion||0===s?p:h.proportion*s),U.a.setPosition(a,l).setSize(d,c),at(n,U.a,h.align),this.resetChildPositionState(n),0===this.orientation?v+=d+o.left+o.right:f+=c+o.top+o.bottom);return this.layoutBackgrounds(),this},_layoutInit:function(){this._childrenWidth=void 0,this._childrenHeight=void 0,this._childrenProportion=void 0}};const dt=Phaser.Utils.Objects.GetValue;var ct=function(t,e){return void 0===e&&(e={}),"number"==typeof t?(e.left=t,e.right=t,e.top=t,e.bottom=t):(e.left=dt(t,"left",0),e.right=dt(t,"right",0),e.top=dt(t,"top",0),e.bottom=dt(t,"bottom",0)),e},ut={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1};const pt=Phaser.Display.Align;var gt={center:pt.CENTER,left:pt.LEFT_CENTER,right:pt.RIGHT_CENTER,top:pt.TOP_CENTER,bottom:pt.BOTTOM_CENTER,"left-top":pt.TOP_LEFT,"left-center":pt.LEFT_CENTER,"left-bottom":pt.LEFT_BOTTOM,"center-top":pt.TOP_CENTER,"center-center":pt.CENTER,"center-bottom":pt.BOTTOM_CENTER,"right-top":pt.TOP_RIGHT,"right-center":pt.RIGHT_CENTER,"right-bottom":pt.RIGHT_BOTTOM};const vt=Phaser.Utils.Objects.IsPlainObject,ft=Phaser.Utils.Objects.GetValue,xt=Phaser.Utils.Array.Remove,bt=Phaser.Display.Align.CENTER;class mt extends et{constructor(t,e,i,s,r,n){var h;vt(e)?(e=ft(h=e,"x",0),i=ft(h,"y",0),s=ft(h,"width",void 0),r=ft(h,"height",void 0)):vt(s)?(s=ft(h=s,"width",void 0),r=ft(h,"height",void 0)):vt(n)&&(h=n),void 0!==h&&(n=ft(h,"orientation",0)),void 0===n&&(n=0),super(t,e,i,s,r,h),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(n)}destroy(t){this.scene&&(this.sizerChildren.length=0,super.destroy(t))}setOrientation(t){return"string"==typeof t&&(t=ut[t]),this.orientation=t,this}add(t,e,i,s,r){super.add(t);var n=typeof e;if(null===e)return this;if("number"===n);else if("string"===n)e=yt[e];else if(vt(e)){var h;e=ft(h=e,"proportion",0),i=ft(h,"align",bt),s=ft(h,"padding",0),r=ft(h,"expand",!1)}return"string"==typeof i&&(i=gt[i]),void 0===e&&(e=0),void 0===i&&(i=bt),void 0===s&&(s=0),void 0===r&&(r=!1),(h=this.getSizerConfig(t)).parent=this,h.proportion=e,h.align=i,h.padding=ct(s),h.expand=r,this.sizerChildren.push(t),this}insert(t,e,i,s,r,n){return this.add(e,i,s,r,n),this.moveTo(e,t),this}remove(t){var e=this.getSizerConfig(t);return e.parent!==this?this:(e.parent=void 0,xt(this.sizerChildren,t),super.remove(t),this)}get childrenProportion(){return void 0===this._childrenProportion&&(this._childrenProportion=this.getChildrenProportion()),this._childrenProportion}}Object.assign(mt.prototype,lt);const yt={min:0,full:-1};var Ct=mt;r.register("sizer",function(t,e,i,s,r){var n=new Ct(this.scene,t,e,i,s,r);return this.scene.add.existing(n),n}),Object(h.a)(window,"RexPlugins.UI.Sizer",Ct);var wt=function(){if(this.rexSizer.hidden)return 0;for(var t,e,i,s,r,n=0,h=this.gridChildren,o=0;o<this.columnCount;o++){if(t=0,void 0===(r=this.columnProportions[o])||0===r){for(var a=0;a<this.rowCount;a++)(e=h[a*this.columnCount+o])&&(e.rexSizer.hidden||(s=e.isRexSizer?Math.max(e.minWidth,e.childrenWidth):e.width,s+=(i=e.rexSizer.padding).left+i.right,t=Math.max(t,s)));n+=t}this.columnWidth[o]=t}return n},Ot=function(){if(this.rexSizer.hidden)return 0;for(var t,e,i,s,r,n=0,h=this.gridChildren,o=0;o<this.rowCount;o++){if(t=0,void 0===(r=this.rowProportions[o])||0===r){for(var a=0;a<this.columnCount;a++)(e=h[o*this.columnCount+a])&&(e.rexSizer.hidden||(s=e.isRexSizer?Math.max(e.minHeight,e.childrenHeight):e.height,s+=(i=e.rexSizer.padding).top+i.bottom,t=Math.max(t,s)));n+=t}this.rowHeight[o]=t}return n},St=function(t){void 0===t&&(t=[]);for(var e,i=this.gridChildren,s=0,r=i.length;s<r;s++)(e=i[s])&&e.isRexSizer&&t.push(e);return t},Tt=function(t,e){var i,s=t.rexSizer;if(s.expand){var r=s.padding;i=e-r.left-r.right}return i},Pt=function(t,e){var i,s=t.rexSizer;if(s.expand){var r=s.padding;i=e-r.top-r.bottom}return i};const Mt=Phaser.Display.Align.In.QuickSet;var kt={getChildrenWidth:wt,getChildrenHeight:Ot,getChildrenSizers:St,layout:function(t,e,i){if(this.rexSizer.hidden)return this;this.layoutInit(t);var s,r,n,h,o=this.totalColumnProportions,a=this.totalRowProportions;if(void 0===e)if(t&&o>0){var l=this.rexSizer.padding;e=t.width-l.left-l.right}else e=Math.max(this.childrenWidth,this.minWidth);if(void 0===i)if(t&&a>0){var l=this.rexSizer.padding;i=t.height-l.top-l.bottom}else i=Math.max(this.childrenHeight,this.minHeight);this.resize(e,i),s=o>0?(this.width-this.childrenWidth)/o:0,r=a>0?(this.height-this.childrenHeight)/a:0;for(var d,c,u,p,g,v,f,x,b,m,y=this.left,C=y,w=this.top,O=0;O<this.rowCount;O++){m=0===(x=this.rowProportions[O]||0)?this.rowHeight[O]:x*r,C=y;for(var S=0;S<this.columnCount;S++)b=0===(f=this.columnProportions[S]||0)?this.columnWidth[S]:f*s,(n=this.gridChildren[O*this.columnCount+S])&&!n.rexSizer.hidden?(g=Tt(n,b),v=Pt(n,m),n.isRexSizer?n.layout(this,g,v):Object(G.a)(n,g,v),d=C+(l=(h=n.rexSizer).padding).left,u=b-l.left-l.right,c=w+l.top,p=m-l.top-l.bottom,U.a.setPosition(d,c).setSize(u,p),Mt(n,U.a,h.align),this.resetChildPositionState(n),C+=b):C+=b;w+=m}return this.layoutBackgrounds(),this},_layoutInit:function(){this._childrenWidth=void 0,this._childrenHeight=void 0}};const Et=Phaser.Utils.Objects.IsPlainObject,jt=Phaser.Utils.Objects.GetValue,_t=Phaser.Utils.Array.Remove,It=Phaser.Display.Align.CENTER;class zt extends et{constructor(t,e,i,s,r,n,h,o,a){var l;Et(e)?(e=jt(l=e,"x",0),i=jt(l,"y",0),s=jt(l,"width",void 0),r=jt(l,"height",void 0),n=jt(l,"column",0),h=jt(l,"row",0),o=jt(l,"columnProportions",void 0),a=jt(l,"rowProportions",void 0)):Et(s)?(s=jt(l=s,"width",void 0),r=jt(l,"height",void 0),n=jt(l,"column",0),h=jt(l,"row",0),o=jt(l,"columnProportions",void 0),a=jt(l,"rowProportions",void 0)):Et(n)?(n=jt(l=n,"column",0),h=jt(l,"row",0),o=jt(l,"columnProportions",void 0),a=jt(l,"rowProportions",void 0)):Et(o)&&(o=jt(l=o,"columnProportions",void 0),a=jt(l,"rowProportions",void 0)),super(t,e,i,s,r,l),this.type="rexGridSizer",this.initialGrid(n,h,o,a)}destroy(t){this.scene&&(this.gridChildren.length=0,super.destroy(t))}setColumnProportion(t,e){return t>=this.columnProportions.length?this:(this.columnProportions[t]=e,this)}setRowProportion(t,e){return t>=this.rowProportions.length?this:(this.rowProportions[t]=e,this)}add(t,e,i,s,r,n){var h;(super.add(t),Et(e))&&(e=jt(h=e,"column",0),i=jt(h,"row",0),s=jt(h,"align",It),r=jt(h,"padding",0),n=jt(h,"expand",!1));return"string"==typeof s&&(s=gt[s]),void 0===s&&(s=It),void 0===r&&(r=0),void 0===n&&(n=!0),(h=this.getSizerConfig(t)).parent=this,h.align=s,h.padding=ct(r),h.expand=n,this.gridChildren[i*this.columnCount+e]=t,this}remove(t){var e=this.getSizerConfig(t);return e.parent!==this?this:(e.parent=void 0,_t(this.gridChildren,t),void 0!==this.backgroundChildren&&_t(this.backgroundChildren,t),super.remove(t),this)}get totalColumnProportions(){for(var t,e=0,i=0;i<this.columnCount;i++)(t=this.columnProportions[i])>0&&(e+=t);return e}get totalRowProportions(){for(var t,e=0,i=0;i<this.rowCount;i++)(t=this.rowProportions[i])>0&&(e+=t);return e}initialGrid(t,e,i,s){if(this.columnCount=t,this.rowCount=e,this.gridChildren=[],this.gridChildren.length=t*e,this.columnProportions=[],this.columnProportions.length=t,this.columnWidth=[],this.columnWidth.length=t,this.rowProportions=[],this.rowProportions.length=e,this.rowHeight=[],this.rowHeight.length=e,i)for(var r="number"==typeof i,n=0;n<t;n++)if(r)this.setColumnProportion(n,i);else{var h=i[n];h>0&&this.setColumnProportion(n,h)}if(s){var o="number"==typeof s;for(n=0;n<e;n++)if(o)this.setRowProportion(n,s);else{var a=s[n];a>0&&this.setRowProportion(n,a)}}return this}}Object.assign(zt.prototype,kt);var Yt=zt;r.register("gridSizer",function(t,e,i,s,r,n,h,o){var a=new Yt(this.scene,t,e,i,s,r,n,h,o);return this.scene.add.existing(a),a}),Object(h.a)(window,"RexPlugins.UI.GridSizer",Yt);var Rt=function(){return this.rexSizer.hidden?0:(t=0===this.orientation?this.maxChildWidth:0,t=Math.max(t,this.minWidth));var t},Lt=function(){return this.rexSizer.hidden?0:(t=0===this.orientation?0:this.maxChildHeight,t=Math.max(t,this.minHeight));var t},Dt=function(t){void 0===t&&(t=[]);for(var e,i=this.sizerChildren,s=0,r=i.length;s<r;s++)(e=i[s]).isRexSizer&&t.push(e);return t},Bt=function(t){var e=t.rexSizer.padding;return t.width+e.left+e.right},Ht=function(t){var e=t.rexSizer.padding;return t.height+e.top+e.bottom},Wt=function(t,e){return 0===e?Bt(t):Ht(t)},Xt=function(t,e){return 0===e?Ht(t):Bt(t)},Vt=function(t){for(var e,i,s,r={lines:[],width:0,height:0},n=this.sizerChildren,h=0,o=r.lines,a=0,l=n.length;a<l;a++)if(!(e=n[a]).rexSizer.hidden){if(e.isRexSizer&&e.layout(),h<(i=Wt(e,this.orientation))){if(s){var d=t-(h+this.itemSpacing);r.width=Math.max(r.width,d),r.height+=s.height+this.lineSpacing}s={children:[],remainder:0,height:0},o.push(s),h=t}h-=i+this.itemSpacing,s.children.push(e),s.remainder=h,s.height=Math.max(s.height,Xt(e,this.orientation))}return s&&(r.height+=s.height),r};const Ft=Phaser.Display.Align.In.QuickSet;var At={getChildrenWidth:Rt,getChildrenHeight:Lt,getChildrenSizers:Dt,layout:function(t,e,i){if(this.rexSizer.hidden)return this;if(this.layoutInit(t),void 0===e){var s=this.padding;e=Math.max(this.maxChildWidth+s.left+s.right,this.minWidth)}void 0===i&&(s=this.padding,i=Math.max(this.maxChildHeight+s.top+s.bottom,this.minHeight));var r;s=this.padding;r=0===this.orientation?e-s.left-s.right:i-s.top-s.bottom;var n,h,o=Vt.call(this,r);0===this.orientation?i=Math.max(i,o.height+s.top+s.bottom):e=Math.max(e,o.height+left+s.right),this.resize(e,i);var a,l,d,c,u,p,g,v,f=this.left,x=this.top,b=o.lines;0===this.orientation?(a=f,l=x+this.padding.top):(a=f+this.padding.left,l=x);for(var m=0,y=b.length;m<y;m++){for(var C=0,w=(v=(g=b[m]).children).length;C<w;C++)s=(h=(n=v[C]).rexSizer).padding,0===this.orientation?(d=a+s.left,d+=0===C?this.padding.left:this.itemSpacing,c=l+s.top,u=n.width,p=n.height,a=d+n.width+s.right):(d=a+s.left,c=l+s.top,c+=0===C?this.padding.top:this.itemSpacing,u=n.width,p=n.height,l=c+n.height+s.bottom),U.a.setPosition(d,c).setSize(u,p),Ft(n,U.a,h.align),this.resetChildPositionState(n);0===this.orientation?(a=f,l+=g.height+this.lineSpacing):(a+=g.height+this.lineSpacing,l=x)}return this.layoutBackgrounds(),this}},Gt=function(t){void 0===t&&(t=this.sizerChildren);for(var e=0,i=0,s=t.length;i<s;i++)e=Math.max(e,Bt(t[i]));return e},Ut=function(t){void 0===t&&(t=this.sizerChildren);for(var e=0,i=0,s=t.length;i<s;i++)e=Math.max(e,Ht(t[i]));return e};const Nt=Phaser.Utils.Objects.IsPlainObject,Zt=Phaser.Utils.Objects.GetValue,Jt=Phaser.Utils.Array.Remove,Kt=Phaser.Display.Align.CENTER;class Qt extends et{constructor(t,e,i,s,r,n,h){var o;Nt(e)?(e=Zt(o=e,"x",0),i=Zt(o,"y",0),s=Zt(o,"width",void 0),r=Zt(o,"height",void 0)):Nt(s)?(s=Zt(o=s,"width",void 0),r=Zt(o,"height",void 0)):Nt(n)?o=n:Nt(h)&&(o=h),void 0!==o&&(n=Zt(o,"orientation",0),h=Zt(o,"space",o)),void 0===n&&(n=0),void 0===h&&(h=0),super(t,e,i,s,r,o),this.type="rexFixWidthSizer",this.sizerChildren=[],this.setOrientation(n),this.setPadding(h),this.setItemSpacing(Zt(h,"item",0)),this.setLineSpacing(Zt(h,"line",0))}destroy(t){this.scene&&(this.sizerChildren.length=0,super.destroy(t))}setOrientation(t){return"string"==typeof t&&(t=ut[t]),this.orientation=t,this}setPadding(t){return this.padding=ct(t,this.padding),this}setItemSpacing(t){return this.itemSpacing=t,this}setLineSpacing(t){return this.lineSpacing=t,this}add(t,e){super.add(t),void 0===e&&(e=0);var i=this.getSizerConfig(t);return i.parent=this,i.align=Kt,i.padding=ct(e),this.sizerChildren.push(t),this}insert(t,e,i,s){return this.add(e,i,s),this.moveTo(e,t),this}remove(t){var e=this.getSizerConfig(t);return e.parent!==this?this:(e.parent=void 0,Jt(this.sizerChildren,t),super.remove(t),this)}get maxChildWidth(){return void 0===this._maxChildWidth&&(this._maxChildWidth=Gt.call(this)),this._maxChildWidth}get maxChildHeight(){return void 0===this._maxChildHeight&&(this._maxChildHeight=Ut.call(this)),this._maxChildHeight}}Object.assign(Qt.prototype,At);var qt=Qt;r.register("fixWidthSizer",function(t,e,i,s,r,n){var h=new qt(this.scene,t,e,i,s,r,n);return this.scene.add.existing(h),h}),Object(h.a)(window,"RexPlugins.UI.FixWidthSizer",qt);var $t=i(46);const te=Phaser.Utils.Objects.GetValue;var ee=class extends Ct{constructor(t,e){super(t,e),this.type="rexLabel";var i=te(e,"background",void 0),s=te(e,"icon",void 0),r=te(e,"iconMask",void 0),n=te(e,"text",void 0),h=te(e,"action",void 0),o=te(e,"actionMask",void 0),a=te(e,"space.left",0),l=te(e,"space.right",0),d=te(e,"space.top",0),c=te(e,"space.bottom",0),u=te(e,"space.icon",0),p=te(e,"space.text",0);if(i&&this.addBackground(i),s&&(v=0===this.orientation?{left:a,right:n||h?u:l,top:d,bottom:c}:{left:a,right:l,top:d,bottom:n||h?u:c},this.add(s,0,"center",v),r&&(r=new $t.a(s,1),s.setMask(r.createGeometryMask()),this.add(r,null))),n){var g,v,f,x=te(e,"expandTextWidth",!1),b=te(e,"expandTextHeight",!1);0===this.orientation?(g=x?1:0,v={left:s?0:a,right:h?p:l,top:d,bottom:c},f=b):(g=b?1:0,v={left:a,right:l,top:s?0:d,bottom:h?p:c},f=x),this.add(n,g,"center",v,f)}h&&(v=0===this.orientation?{left:s||n?0:a,right:l,top:d,bottom:c}:{left:a,right:l,top:s||n?0:d,bottom:c},this.add(h,0,"center",v),o&&(o=new $t.a(h,1),s.setMask(o.createGeometryMask()),this.add(o,null))),this.addChildrenMap("background",i),this.addChildrenMap("icon",s),this.addChildrenMap("iconMask",r),this.addChildrenMap("text",n),this.addChildrenMap("action",h),this.addChildrenMap("actionMask",o)}get text(){var t=this.childrenMap.text;return void 0===t?"":t.text?t.text:t.getData("text")}set text(t){var e=this.childrenMap.text;void 0!==e&&(e.setText?e.setText(t):e.setData("text",t))}setText(t){return this.text=t,this}appendText(t){this.text+=t}layout(t,e,i){super.layout(t,e,i);var s=this.childrenMap.iconMask;s&&(s.setPosition(),this.resetChildPositionState(s));var r=this.childrenMap.actionMask;return r&&(r.setPosition(),this.resetChildPositionState(r)),this}resize(t,e){super.resize(t,e);var i=this.childrenMap.iconMask;i&&i.resize();var s=this.childrenMap.actionMask;return s&&s.resize(),this}};r.register("label",function(t){var e=new ee(this.scene,t);return this.scene.add.existing(e),e}),Object(h.a)(window,"RexPlugins.UI.Label",ee);var ie=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=0),t.add.zone(0,0,e,i)},se=i(134),re=function(t,e){t._buttonBehavior=new se.a(t,e),t._buttonBehavior.on("click",function(e,i,s){ne.call(this,"button.click",t,s)},this),t.on("pointerover",function(e){ne.call(this,"button.over",t,e)},this).on("pointerout",function(e){ne.call(this,"button.out",t,e)},this)},ne=function(t,e,i){var s;if("number"==typeof e){if((s=e)>=this.childrenMap.buttons.length)return;e=this.childrenMap.buttons[s]}else if(-1===(s=this.childrenMap.buttons.indexOf(e)))return;void 0!==this.groupName?this.eventEmitter.emit(t,e,this.groupName,s,i):this.eventEmitter.emit(t,e,s,i)};const he=Phaser.Utils.Objects.GetValue;var oe=class extends Ct{constructor(t,e){void 0===e&&(e={}),super(t,e),this.type="rexButtons",this.eventEmitter=he(e,"eventEmitter",this),this.groupName=he(e,"groupName",void 0);var i=he(e,"background",void 0),s=he(e,"buttons",void 0);s&&0===s.length&&(s=void 0);var r=he(e,"space",0);if(i&&this.addBackground(i),s){var n,h,o=he(e,"align",void 0),a=he(e,"click",void 0);"right"!==o&&"bottom"!==o&&"center"!==o||this.add(ie(t),1,"center",0,!1);for(var l=0,d=s.length;l<d;l++)n=s[l],h=0===this.orientation?{left:l>=1?r:0,right:0,top:0,bottom:0}:{left:0,right:0,top:l>=1?r:0,bottom:0},this.add(n,0,"center",h,!0),re.call(this,n,a);"center"===o&&this.add(ie(t),1,"center",0,!1)}this.addChildrenMap("background",i),this.addChildrenMap("buttons",s||[])}emitButtonClick(t){return ne.call(this,"button.click",t),this}};r.register("buttons",function(t){var e=new oe(this.scene,t);return this.scene.add.existing(e),e}),Object(h.a)(window,"RexPlugins.UI.Buttons",oe);const ae=Phaser.Utils.Objects.GetValue;var le=class extends Ct{constructor(t,e){void 0===e&&(e={}),e.orientation=1,super(t,e),this.type="rexDialog",this.eventEmitter=ae(e,"eventEmitter",this);var i=ae(e,"background",void 0),s=ae(e,"title",void 0),r=ae(e,"toolbar",void 0);r&&0===r.length&&(r=void 0);var n=ae(e,"content",void 0),h=ae(e,"description",void 0),o=ae(e,"choices",void 0);o&&0===o.length&&(o=void 0);var a=ae(e,"actions",void 0);a&&0===a.length&&(a=void 0);var l,d=ae(e,"click",void 0),c=ae(e,"space.left",0),u=ae(e,"space.right",0),p=ae(e,"space.top",0),g=ae(e,"space.bottom",0);if(i&&this.addBackground(i),s&&!r){var v=ae(e,"align.title","center"),f=ae(e,"space.title",0),x={left:c,right:u,top:p,bottom:n||h||o||a?f:g},b=ae(e,"expand.title",!0);this.add(s,0,v,x,b)}if(r&&(l=new oe(t,{groupName:"toolbar",buttons:r,orientation:0,space:ae(e,"space.toolbarItem",0),click:d,eventEmitter:this.eventEmitter})),r&&!s&&(f=ae(e,"space.title",0),x={left:c,right:u,top:p,bottom:n||h||o||a?f:g},b=ae(e,"expand.toolbar",!0),this.add(l,0,"center",x,b)),s&&r){var m=new Ct(t,{orientation:0});v=ae(e,"align.title","left"),(b=ae(e,"expand.title",!0))||"right"!==v&&"center"!==v||m.add(ie(t),1,"center",0,!1),x={left:ae(e,"space.titleLeft",0),right:ae(e,"space.titleRight",0),top:0,bottom:0},m.add(s,b?1:0,"center",x,b),b||"left"!==v&&"center"!==v||m.add(ie(t),1,"center",0,!1),m.add(l,0,"right",0,!1),f=ae(e,"space.title",0),x={left:c,right:u,top:p,bottom:n||h||o||a?f:g},this.add(m,0,"center",x,!0)}if(n){v=ae(e,"align.content","center");var y=ae(e,"space.content",0);x={left:c+ae(e,"space.contentLeft",0),right:u+ae(e,"space.contentRight",0),top:s||r?0:p,bottom:h||o||a?y:g},b=ae(e,"expand.content",!0),this.add(n,0,v,x,b)}if(h){v=ae(e,"align.description","center");var C=ae(e,"space.description",0);x={left:c+ae(e,"space.descriptionLeft",0),right:u+ae(e,"space.descriptionRight",0),top:s||r||n?0:p,bottom:o||a?C:g},b=ae(e,"expand.description",!0),this.add(h,0,v,x,b)}if(o){v=ae(e,"align.choices","center");var w=new oe(t,{groupName:"choices",buttons:o,orientation:1,space:ae(e,"space.choice",0),click:d,eventEmitter:this.eventEmitter}),O=ae(e,"space.choices",0);x={left:c+ae(e,"space.choicesLeft",0),right:u+ae(e,"space.choicesRight",0),top:s||r||n||h?0:p,bottom:a?O:g},b=ae(e,"expand.choices",!0),this.add(w,0,v,x,b)}a&&(w=new oe(t,{groupName:"actions",buttons:a,orientation:0,space:ae(e,"space.action",0),align:ae(e,"align.actions","center"),click:d,eventEmitter:this.eventEmitter}),x={left:c+ae(e,"space.actionsLeft",0),right:u+ae(e,"space.actionsRight",0),top:s||r||n||h||o?0:p,bottom:g},b=ae(e,"expand.actions",!0),this.add(w,0,"center",x,b)),this.addChildrenMap("background",i),this.addChildrenMap("title",s),this.addChildrenMap("toolbar",r),this.addChildrenMap("content",n),this.addChildrenMap("choices",o),this.addChildrenMap("actions",a)}};r.register("dialog",function(t){var e=new le(this.scene,t);return this.scene.add.existing(e),e}),Object(h.a)(window,"RexPlugins.UI.Dialog",le);const de=Phaser.Utils.Objects.GetValue;var ce=class extends Yt{constructor(t,e){void 0===e&&(e={}),e.column=3,e.row=3,super(t,e),this.type="rexTabs",this.eventEmitter=de(e,"eventEmitter",this);var i,s=de(e,"background",void 0),r=de(e,"panel",void 0),n=de(e,"leftButtons",void 0);n&&0===n.length&&(n=void 0);var h,o=de(e,"rightButtons",void 0);o&&0===o.length&&(o=void 0);var a,l=de(e,"topButtons",void 0);l&&0===l.length&&(l=void 0);var d,c=de(e,"bottomButtons",void 0);c&&0===c.length&&(c=void 0);var u=de(e,"click",void 0),p=de(e,"space.left",0),g=de(e,"space.right",0),v=de(e,"space.top",0),f=de(e,"space.bottom",0),x=de(e,"space.leftButtonsOffset",0),b=de(e,"space.rightButtonsOffset",0),m=de(e,"space.topButtonsOffset",0),y=de(e,"space.bottomButtonsOffset",0),C=de(e,"space.leftButton",0),w=de(e,"space.rightButton",0),O=de(e,"space.topButton",0),S=de(e,"space.bottomButton",0);if(s&&this.addBackground(s),r){var T={left:n?0:p,right:o?0:g,top:l?0:v,bottom:c?0:f};this.add(r,1,1,"center",T,!0)}n&&(i=new oe(t,{groupName:"left",buttons:n,orientation:1,space:C,align:de(e,"align.leftButtons",void 0),click:u,eventEmitter:this.eventEmitter}),T={left:p,top:x},this.add(i,0,1,"top",T,!1)),o&&(h=new oe(t,{groupName:"right",buttons:o,orientation:1,space:w,align:de(e,"align.rightButtons",void 0),click:u,eventEmitter:this.eventEmitter}),T={right:g,top:b},this.add(h,2,1,"top",T,!1)),l&&(a=new oe(t,{groupName:"top",buttons:l,orientation:0,space:O,align:de(e,"align.topButtons",void 0),click:u,eventEmitter:this.eventEmitter}),T={top:v,left:m},this.add(a,1,0,"left",T,!1)),c&&(d=new oe(t,{groupName:"bottom",buttons:c,orientation:0,space:S,align:de(e,"align.bottomButtons",void 0),click:u,eventEmitter:this.eventEmitter}),T={bottom:f,left:y},this.add(d,1,2,"left",T,!1)),this.addChildrenMap("background",s),this.addChildrenMap("panel",r),this.addChildrenMap("leftButtons",n),this.addChildrenMap("rightButtons",o),this.addChildrenMap("topButtons",l),this.addChildrenMap("bottomButtons",c),this.addChildrenMap("leftButtonsSizer",i),this.addChildrenMap("rightButtonsSizer",h),this.addChildrenMap("topButtonsSizer",a),this.addChildrenMap("bottomButtonsSizer",d)}emitButtonClick(t,e){var i=this.childrenMap[t+"ButtonsSizer"];return i?(i.emitButtonClick(e),this):this}};r.register("tabs",function(t){var e=new ce(this.scene,t);return this.scene.add.existing(e),e}),Object(h.a)(window,"RexPlugins.UI.Tabs",ce);const ue=Phaser.Math.Percent;var pe=function(t,e,i){var s,r,n;return t.y===e.y?(s=Math.min(t.x,e.x),r=Math.max(t.x,e.x),n=ue(i.x,s,r)):t.x===e.x&&(s=Math.min(t.y,e.y),r=Math.max(t.y,e.y),n=ue(i.y,s,r)),n},ge={},ve=function(t,e,i){this.enable&&(ge.x=e,ge.y=i,this.value=pe(this.getStartPoint(),this.getEndPoint(),ge))},fe={},xe=function(t,e,i){this.enable&&t.isDown&&(fe.x=t.worldX,fe.y=t.worldY,this.value=pe(this.getStartPoint(),this.getEndPoint(),fe))};const be=Phaser.Display.Align.In.QuickSet;var me={},ye=function(t,e){void 0===e&&(e=me);var i=this.childrenMap.thumb,s=i.x,r=i.y;return be(i,this,t),e.x=i.x,e.y=i.y,i.x=s,i.y=r,e};const Ce=Phaser.Display.Align.LEFT_CENTER,we=Phaser.Display.Align.TOP_CENTER;var Oe={},Se=function(t){if(void 0===t&&(t=Oe),this.childrenMap.thumb){var e=0===this.orientation?we:Ce;ye.call(this,e,t)}else 0===this.orientation?(t.x=this.centerX,t.y=this.top+1):(t.x=this.left+1,t.y=this.centerY);return t};const Te=Phaser.Display.Align.RIGHT_CENTER,Pe=Phaser.Display.Align.BOTTOM_CENTER;var Me={},ke=function(t){if(void 0===t&&(t=Me),this.childrenMap.thumb){var e=1===this.orientation?Te:Pe;ye.call(this,e,t)}else 0===this.orientation?(t.x=this.centerX,t.y=this.bottom-1):(t.x=this.right-1,t.y=this.centerY);return t};const Ee=Phaser.Math.Linear;var je={},_e=function(t,e,i,s){return void 0===s&&(s=je),s.x=Ee(e.x,i.x,t),s.y=Ee(e.y,i.y,t),s},Ie=function(t){var e=this.childrenMap.thumb;return void 0===e?this:(void 0===t&&(t=this.value),_e(t,this.getStartPoint(),this.getEndPoint(),e),this.resetChildPositionState(e),this)};const ze=Phaser.Display.Align.In.QuickSet,Ye=Phaser.Display.Align.LEFT_CENTER,Re=Phaser.Display.Align.TOP_CENTER;var Le=function(t){var e,i,s=this.childrenMap.indicator;if(void 0===s)return this;void 0===t&&(t=this.value);var r=this.childrenMap.thumb;r?0===this.orientation?i=r.y-r.displayHeight*r.originY+r.displayHeight-this.top:e=r.x-r.displayWidth*r.originX+r.displayWidth-this.left:0===this.orientation?i=this.height*t:e=this.width*t;Object(G.a)(s,e,i);var n=1===this.orientation?Ye:Re;ze(s,this,n),this.resetChildPositionState(s)};const De=Phaser.Utils.Objects.GetValue,Be=Phaser.Math.Clamp,He=Phaser.Math.Linear,We=Phaser.Math.Percent;class Xe extends Ct{constructor(t,e){super(t,e),this.type="rexSlider",this.eventEmitter=De(e,"eventEmitter",this);var i=De(e,"background",void 0),s=De(e,"track",void 0),r=De(e,"indicator",void 0),n=De(e,"thumb",void 0),h=De(e,"space.left",0),o=De(e,"space.right",0),a=De(e,"space.top",0),l=De(e,"space.bottom",0);if(i&&this.addBackground(i),s){var d={left:h,right:o,top:a,bottom:l};this.add(s,0,void 0,d,!0)}r&&this.add(r,null),n&&this.add(n,null);var c=De(e,"input",0);switch("string"==typeof c&&(c=Ve[c]),c){case 0:n&&(n.setInteractive(),this.scene.input.setDraggable(n),n.on("drag",ve,this));break;case 1:this.setInteractive().on("pointerdown",xe,this).on("pointermove",xe,this)}this.addChildrenMap("background",i),this.addChildrenMap("track",s),this.addChildrenMap("indicator",r),this.addChildrenMap("thumb",n);var u=De(e,"valuechangeCallback",null);if(null!==u){var p=De(e,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",u,p)}this.setEnable(De(e,"enable",void 0)),this.setValue(De(e,"value",0))}setEnable(t){return void 0===t&&(t=!0),this.enable=t,this}get value(){return this._value}set value(t){var e=this._value;this._value=Be(t,0,1),e!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,e,this.eventEmitter))}setValue(t,e,i){return void 0===t||null===t?this:(void 0!==e&&(t=We(t,e,i)),this.value=t,this)}addValue(t,e,i){return void 0!==e&&(t=We(t,e,i)),this.value+=t,this}getValue(t,e){var i=this.value;return void 0!==t&&(i=He(t,e,i)),i}layout(t,e,i){return super.layout(t,e,i),this.updateThumb(),this.updateIndicator(),this}}const Ve={drag:0,click:1,none:-1};var Fe={getStartPoint:Se,getEndPoint:ke,updateThumb:Ie,updateIndicator:Le};Object.assign(Xe.prototype,Fe);var Ae=Xe;r.register("slider",function(t){var e=new Ae(this.scene,t);return this.scene.add.existing(e),e}),Object(h.a)(window,"RexPlugins.UI.Slider",Ae);var Ge={v:0,vertical:0,h:1,horizontal:1};const Ue=Phaser.Utils.Objects.GetValue;var Ne=function(t,e){void 0===e&&(e="scrollMode");var i=Ue(t,"scrollMode",0);return"string"==typeof i&&(i=Ge[i]),i},Ze=i(144);const Je=Phaser.Utils.Objects.GetValue;var Ke=class extends Ct{constructor(t,e){void 0===e&&(e={});var i=Ne(e);e.orientation=i,super(t,e),this.type=Je(e,"type","rexScrollable");var s=Je(e,"background",void 0),r=Je(e,"child.gameObject",void 0),n=Je(e,"slider",void 0),h=Je(e,"scroller",!0),o=Je(e,"space.left",0),a=Je(e,"space.right",0),l=Je(e,"space.top",0),d=Je(e,"space.bottom",0),c=Je(e,"space.child",0);if(this.childPadding={},"number"!=typeof c){var u=c;0===i?(c=Je(u,"right",0),this.childPadding.top=Je(u,"top",0),this.childPadding.bottom=Je(u,"bottom",0)):(c=Je(u,"bottom",0),this.childPadding.top=Je(u,"left",0),this.childPadding.bottom=Je(u,"right",0))}else this.childPadding.top=0,this.childPadding.bottom=0;s&&this.addBackground(s);var p,g,v,f=Je(e,"child.proportion",1),x=Je(e,"child.expand",!0);g=0===i?{left:o,right:n?c:a,top:l,bottom:d}:{left:o,right:a,top:l,bottom:n?c:d},this.add(r,f,"center",g,x),n&&(!0===n&&(n={}),n.orientation=this.orientation,p=new Ae(t,n),g=0===i?{left:0,right:a,top:l,bottom:d}:{left:o,right:a,top:0,bottom:d},this.add(p,0,"center",g,!0)),h&&(!0===h&&(h={}),h.orientation=i,v=new Ze.a(r,h)),p&&p.on("valuechange",function(t){this.t=t},this),v&&v.on("valuechange",function(t){this.childOY=t},this),this.addChildrenMap("background",s),this.addChildrenMap("child",r),this.addChildrenMap("slider",p),this.addChildrenMap("scroller",v)}layout(t,e,i){return super.layout(t,e,i),this.resizeController(),this}resizeController(){var t=this.topChildOY,e=this.bottomChildOY,i=this.childrenMap.scroller,s=this.childrenMap.slider;return i&&i.setBounds(e,t),s&&s.setEnable(e!==t),this.updateController(),this}updateController(){var t=this.childrenMap.scroller,e=this.childrenMap.slider;t&&t.setValue(this.childOY),e&&e.setValue(this.t)}set t(t){var e=this.childPadding;if(0!==e.top||0!==e.bottom){var i=this.childrenMap.child,s=i.topChildOY-i.bottomChildOY;t=((s+e.top+e.bottom)*t-e.top)/s}this.childrenMap.child.t=t,this.updateController()}get t(){var t=this.childrenMap.child.t,e=this.childPadding;if(0!==e.top||0!==e.bottom){var i=this.childrenMap.child,s=i.topChildOY-i.bottomChildOY,r=s+e.top+e.bottom;t=(s*t+e.top)/r}return t}set childOY(t){this.childrenMap.child.childOY=t,this.updateController()}get childOY(){return this.childrenMap.child.childOY}get topChildOY(){return this.childrenMap.child.topChildOY+this.childPadding.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childPadding.bottom}setChildOY(t){return this.childOY=t,this}setT(t){return this.t=t,this}scrollToTop(){return this.childOY=this.topChildOY,this}scrollToBottom(){return this.childOY=this.bottomChildOY,this}get sliderEnable(){var t=this.childrenMap.slider;if(t)return t.enable}set sliderEnable(t){var e=this.childrenMap.slider;e&&e.setEnable(t)}setSliderEnable(t){return void 0===t&&(t=!0),this.sliderEnable=t,this}get scrollerEnable(){var t=this.childrenMap.scroller;if(t)return t.enable}set scrollerEnable(t){var e=this.childrenMap.scroller;e&&e.setEnable(t)}setScrollerEnable(t){return void 0===t&&(t=!0),this.scrollerEnable=t,this}},Qe=i(66),qe=function(t){Object.defineProperty(t,"childOY",{configurable:!0,get:function(){return t.tableOY},set:function(e){t.tableOY=e}}),Object.defineProperty(t,"topChildOY",{get:function(){return t.topTableOY}}),Object.defineProperty(t,"bottomChildOY",{get:function(){return t.bottomTableOY}})},$e=function(t){t.on("cellvisible",function(t,e){var i,s=this.createCellContainerCallback,r=this.createCellContainerCallbackScope;t.item=this.items[t.index],(i=r?s.call(r,t,e):s(t,e)).setOrigin&&i.setOrigin(0),i.isRexSizer&&i.layout(),t.item=void 0,t.setContainer(i)},this)},ti=function(t,e,i,s,r){var n;if(null!==(n=void 0===r?s:i.pointerToCellIndex(s,r))&&void 0!==n){var h=i.getCellContainer(n);t.emit(e,h,n)}},ei=function(t){t._click=new se.a(t,{threshold:10}),t._click.on("click",function(t,e,i){ti(this.eventEmitter,"cell.click",e,i.x,i.y)},this)},ii=function(t){if(!t.isDown){var e=this.childrenMap.child,i=e.pointerToCellIndex(t.x,t.y);if(i!==this._lastOverCellIndex){var s=this._lastOverCellIndex;this._lastOverCellIndex=i,ti(this.eventEmitter,"cell.out",e,s),ti(this.eventEmitter,"cell.over",e,i)}}},si=function(){var t=this.childrenMap.child,e=this._lastOverCellIndex;this._lastOverCellIndex=void 0,ti(this.eventEmitter,"cell.out",t,e)},ri=function(t){t.on("pointermove",ii,this).on("pointerover",ii,this).on("pointerup",si,this).on("pointerout",si,this)},ni=i(76).a,hi=function(t){t._tap=new ni(t),t._tap.on("tap",function(t){var e=`cell.${t.tapsCount}tap`;ti(this.eventEmitter,e,t.gameObject,t.x,t.y)},this)},oi=i(75).a,ai=function(t){t._press=new oi(t),t._press.on("pressstart",function(t){var e=t.gameObject,i=e.pointerToCellIndex(t.x,t.y);t._cellIndex=i,ti(this.eventEmitter,"cell.pressstart",e,i)},this).on("pressend",function(t){var e=t.gameObject,i=t._cellIndex;t._cellIndex=void 0,ti(this.eventEmitter,"cell.pressend",e,i)},this)},li=function(t){t.setInteractive(),ei.call(this,t),ri.call(this,t),hi.call(this,t),ai.call(this,t)},di=i(9),ci=function(t){void 0===t?this.items.length=0:this.items=t;var e=this.childrenMap.child;return e.setCellsCount(this.items.length),e.updateTable(!0),this.resizeController(),this};const ui=Phaser.Utils.Objects.GetValue;class pi extends Ke{constructor(t,e){void 0===e&&(e={});var i=Ne(e),s=ui(e,"table",void 0);void 0===s&&(s={}),s.scrollMode=i,s.clamplTableOXY=ui(e,"clamplChildOY",!1);var r,n,h=ui(s,"width",void 0),o=ui(s,"height",void 0),a=new Qe.a(t,0,0,h,o,s);0===i?(r=void 0===h?1:0,n=void 0===o):(r=void 0===o?1:0,n=void 0===h),qe(a),e.type="rexGridTable",e.child={gameObject:a,proportion:r,expand:n};var l=ui(e,"space",void 0);l&&(l.child=l.table),super(t,e),this.addChildrenMap("table",a),this.eventEmitter=ui(e,"eventEmitter",this);var d=ui(e,"createCellContainerCallback",di.default),c=ui(e,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(d,c),$e.call(this,a),ui(s,"interactive",!0)&&li.call(this,a),this.setItems(ui(e,"items",[]))}setCreateCellContainerCallback(t,e){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=e,this}refresh(){return this.childrenMap.child.updateTable(!0),this}}var gi={setItems:ci};Object.assign(pi.prototype,gi);var vi=pi;r.register("gridTable",function(t){var e=new vi(this.scene,t);return this.scene.add.existing(e),e}),Object(h.a)(window,"RexPlugins.UI.GridTable",vi);var fi={expandSubMenu:function(t,e){this.collapseSubMenu();var i=new this.constructor(this.scene,{items:e,orientation:this.orientation,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,root:this.root,parent:t});return this.add(i,null),this.childrenMap.subMenu=i,this},collapse:function(){return this.root.easeOut?this.scaleDownDestroy(this.root.easeOut):this.destroy(),this},collapseSubMenu:function(){if(void 0===this.childrenMap.subMenu)return this;var t=this.childrenMap.subMenu;return this.childrenMap.subMenu=void 0,this.remove(t),t.collapseSubMenu(),t.collapse(),this}},xi=function(t,e,i,s){var r,n,h=[];if(e&&i)for(var o=0,a=e.length;o<a;o++)(r=e[o]).scene=t,n=s?i.call(s,r,o):i(r,o),r.scene=void 0,h.push(n);return h},bi=function(t){t.on(t.root.expandEventName,function(t,e){if(!this.isPassedEvent){var i=this.items[e].children;i&&this.expandSubMenu(t,i)}},t).on("button.click",function(t,e){this!==this.root&&(this.root.isPassedEvent=!0,this.root.emit("button.click",t,e),this.root.isPassedEvent=!1)},t).on("button.over",function(t,e){this!==this.root&&(this.root.isPassedEvent=!0,this.root.emit("button.over",t,e),this.root.isPassedEvent=!1)},t).on("button.out",function(t,e){this!==this.root&&(this.root.isPassedEvent=!0,this.root.emit("button.out",t,e),this.root.isPassedEvent=!1)},t)};const mi=Phaser.Utils.Objects.GetValue;class yi extends oe{constructor(t,e){void 0===e&&(e={}),e.hasOwnProperty("orientation")||(e.orientation=1);var i=mi(e,"items",void 0),s=mi(e,"createButtonCallback",void 0),r=mi(e,"createButtonCallbackScope",void 0);if(e.buttons=xi(t,i,s,r),super(t,e),this.type="rexMenu",this.items=i,this.root=mi(e,"root",this),this.root===this){if(this.expandEventName=mi(e,"expandEvent","button.click"),this.easeIn=mi(e,"easeIn",void 0),this.easeOut=mi(e,"easeOut",void 0),this.bounds=mi(e,"bounds",void 0),this.expandOrientation=mi(e,"expandOrientation",void 0),void 0===this.expandOrientation){var n=this.bounds;void 0===n&&(n=Object(c.a)(t)),0===this.orientation?this.expandOrientation=this.y<n.centerY?1:3:this.expandOrientation=this.x<n.centerX?0:2}this.createButtonCallback=s,this.createButtonCallbackScope=r,this.isPassedEvent=!1}this.setOrigin(0).layout();var h=mi(e,"parent",void 0);if(h)switch(this.root.expandOrientation){case 0:this.alignTop(h.top).alignLeft(h.right);break;case 1:this.alignLeft(h.left).alignTop(h.bottom);break;case 2:this.alignTop(h.top).alignRight(h.left);break;case 3:this.alignLeft(h.left).alignBottom(h.top)}this.pushIntoBounds(this.root.bounds),bi(this),this.root.easeIn&&this.popUp(this.root.easeIn)}isInTouching(t){return!!super.isInTouching(t)||!!this.childrenMap.subMenu&&this.childrenMap.subMenu.isInTouching(t)}}Object.assign(yi.prototype,fi);var Ci=yi;r.register("menu",function(t){var e=new Ci(this.scene,t);return this.scene.add.existing(e),e}),Object(h.a)(window,"RexPlugins.UI.Menu",Ci);var wi=i(143),Oi=i(142);const Si=Phaser.Utils.Objects.GetValue;var Ti=function(t){return t.add.text(0,0,"",{wordWrap:{width:200},maxLines:5})},Pi=class extends ee{constructor(t,e){void 0===e&&(e={text:Ti(t)}),super(t,e),this.type="rexTextBox";var i=this.childrenMap.text;this.page=new wi.a(i,Si(e,"page",void 0)),this.typing=new Oi.a(i,Si(e,"type",void 0)),this.typing.on("complete",this.onPageEnd,this).on("type",this.onType,this),this.textWidth=i.width,this.textHeight=i.height}start(t,e){return this.page.setText(t),void 0!==e&&this.typing.setTypeSpeed(e),this.typeNextPage(),this}typeNextPage(){if(this.page.isLastPage)this.emit("complete");else{var t=this.page.getNextPage();this.typing.start(t)}return this}pause(){return this.typing.pause(),this}resume(){return this.typing.resume(),this}stop(t){return this.typing.stop(t),this}get isTyping(){return this.typing.isTyping}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}onType(){var t=this.childrenMap.text;this.textWidth===t.width&&this.textHeight===t.height||(this.textWidth=t.width,this.textHeight=t.height,this.getTopmostSizer().layout()),this.emit("type")}onPageEnd(){this.emit("pageend")}};r.register("textBox",function(t){var e=new Pi(this.scene,t);return this.scene.add.existing(e),e}),Object(h.a)(window,"RexPlugins.UI.TextBox",Pi);const Mi=Phaser.Utils.Objects.GetValue,ki=Phaser.Math.Percent,Ei=Phaser.Math.Linear;var ji=class extends Ct{constructor(t,e){super(t,e),this.type="rexNumberBar";var i,s,r,n=Mi(e,"background",void 0),h=Mi(e,"icon",void 0),o=Mi(e,"iconMask",void 0),a=Mi(e,"slider",void 0),l=Mi(e,"text",void 0),d=Mi(e,"space.left",0),c=Mi(e,"space.right",0),u=Mi(e,"space.top",0),p=Mi(e,"space.bottom",0),g=Mi(e,"space.icon",0),v=Mi(e,"space.slider",0);(n&&this.addBackground(n),h&&(s=0===this.orientation?{left:d,right:a||l?g:c,top:u,bottom:p}:{left:d,right:c,top:u,bottom:a||l?g:p},this.add(h,0,"center",s),o&&(o=new $t.a(h,1),h.setMask(o.createGeometryMask()),this.add(o,null))),a)&&(a.orientation=0==this.orientation?1:0,a.eventEmitter=this,a.value=null,a.hasOwnProperty("input")||(a.input=-1),i=new Ae(t,a),s=0===this.orientation?{left:h?0:d,right:l?v:c,top:u,bottom:p}:{left:d,right:c,top:h?0:u,bottom:l?v:p},r=0===this.orientation?void 0===Mi(a,"width",void 0)?1:0:void 0===Mi(a,"height",void 0)?1:0,this.add(i,r,"center",s));l&&(s=0===this.orientation?{left:h||a?0:d,right:c,top:u,bottom:p}:{left:d,right:c,top:h||a?0:u,bottom:p},this.add(l,0,"center",s)),this.addChildrenMap("background",n),this.addChildrenMap("icon",h),this.addChildrenMap("slider",i),this.addChildrenMap("text",l);var f=Mi(e,"valuechangeCallback",null);if(null!==f){var x=Mi(e,"valuechangeCallbackScope",void 0);this.on("valuechange",f,x)}this.setEnable(Mi(e,"enable",void 0)),this.setValue(Mi(e,"value",0))}setEnable(t){return this.childrenMap.slider?this:(void 0===t&&(t=!0),this.childrenMap.slider.enable=t,this)}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,e,i){return void 0!==e&&(t=ki(t,e,i)),this.value=t,this}addValue(t,e,i){return void 0!==e&&(t=ki(t,e,i)),this.value+=t,this}getValue(t,e){var i=this.value;return void 0!==t&&(i=Ei(t,e,i)),i}get text(){var t=this.childrenMap.text;return void 0===t?"":t.text?t.text:t.getData("text")}set text(t){var e=this.childrenMap.text;void 0!==e&&(e.setText?e.setText(t):e.setData("text",t))}setText(t){return this.text=t,this}};r.register("numberBar",function(t){var e=new ji(this.scene,t);return this.scene.add.existing(e),e}),Object(h.a)(window,"RexPlugins.UI.NumberBar",ji);const _i=Phaser.Utils.Objects.IsPlainObject,Ii=Phaser.Display.Align.TOP_LEFT;var zi=function(t,e,i,s,r){if(_i(e)){var n=e;e=GetValue(n,"key",0),i=GetValue(n,"align",Ii),s=GetValue(n,"padding",0),r=GetValue(n,"expand",!1)}return"string"==typeof i&&(i=gt[i]),void 0===i&&(i=ALIGN_CENTER),void 0===s&&(s=0),void 0===r&&(r=!0),(n=this.getSizerConfig(t)).parent=this,n.align=i,n.padding=ct(s),n.expand=r,this.sizerChildren.has(e)&&this.sizerChildren.get(e).destroy(),this.sizerChildren.set(e,t),t.setVisible(!1),this.add(t),this},Yi=function(t){return void 0===t?null:this.sizerChildren.has(t)?this.sizerChildren.get(t):null},Ri=function(t){this._previousKey=this._currentKey;var e=this.previousPage;e&&(0===this.swapMode?(e.setVisible(!1),this.resetChildVisibleState(e),this.emit("pageinvisible",e,this._previousKey,this)):e.destroy()),t&&!this.sizerChildren.has(t)&&this.emit("createpage",t,this),this._currentKey=t;var i=this.currentPage;return i&&(i.setVisible(!0),this.resetChildVisibleState(i),this.emit("pagevisible",i,this._currentKey,this)),this},Li=function(){if(this.rexSizer.hidden)return 0;var t,e,i,s=0,r=this.sizerChildren.entries;for(var n in r)i=(t=r[n]).isRexSizer?Math.max(t.minWidth,t.childrenWidth):t.width,i+=(e=t.rexSizer.padding).left+e.right,s=Math.max(i,s);return s},Di=function(){if(this.rexSizer.hidden)return 0;var t,e,i,s=0,r=this.sizerChildren.entries;for(var n in r)i=(t=r[n]).isRexSizer?Math.max(t.minHeight,t.childrenHeight):t.height,i+=(e=t.rexSizer.padding).top+e.bottom,s=Math.max(i,s);return s},Bi=function(t){void 0===t&&(t=[]);var e,i=this.sizerChildren.entries;for(var s in i)(e=i[s]).isRexSizer&&t.push(e);return t},Hi=function(t,e){var i,s=e.rexSizer,r=s.padding;return s.expand&&(i=t.width-r.left-r.right),i},Wi=function(t,e){var i,s=e.rexSizer,r=s.padding;return s.expand&&(i=t.height-r.top-r.bottom),i};const Xi=Phaser.Display.Align.In.QuickSet;var Vi={addPage:zi,getPage:Yi,swapPage:Ri,getChildrenWidth:Li,getChildrenHeight:Di,getChildrenSizers:Bi,layout:function(t,e,i){if(this.rexSizer.hidden)return this;var s,r,n;this.layoutInit(t),void 0===e&&(e=Math.max(this.childrenWidth,this.minWidth)),void 0===i&&(i=Math.max(this.childrenHeight,this.minHeight)),this.resize(e,i);var h,o,a,l,d,c,u=this.left,p=this.top,g=this.pages;for(var v in g)n=(r=(s=g[v]).rexSizer).padding,s.isRexSizer?s.layout(this,Hi(this,s),Wi(this,s)):(d=void 0,c=void 0,r.expand&&(c=this.height-n.top-n.bottom,d=this.width-n.left-n.right),Object(G.a)(s,d,c)),h=u+n.left,a=this.width-n.left-n.right,o=p+n.top,l=this.height-n.top-n.bottom,U.a.setPosition(h,o).setSize(a,l),Xi(s,U.a,r.align),this.resetChildPositionState(s);return this.layoutBackgrounds(),this},_layoutInit:function(){this._childrenWidth=void 0,this._childrenHeight=void 0}};const Fi=Phaser.Utils.Objects.IsPlainObject,Ai=Phaser.Utils.Objects.GetValue,Gi=Phaser.Structs.Map;class Ui extends et{constructor(t,e,i,s,r,n){Fi(e)?(e=Ai(n=e,"x",0),i=Ai(n,"y",0),s=Ai(n,"width",void 0),r=Ai(n,"height",void 0)):Fi(s)&&(s=Ai(n=s,"width",void 0),r=Ai(n,"height",void 0)),super(t,e,i,s,r,n),this.type="rexPages",this._previousKey=void 0,this._currentKey=void 0,this.sizerChildren=new Gi,this.setSwapMode(Ai(n,"swapMode",0)),this.addChildrenMap("pages",this.pages)}destroy(t){this.scene&&(this.sizerChildren.clear(),super.destroy(t))}setSwapMode(t){return"string"==typeof t&&(t=Ni[t]),this.swapMode=t,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return this.sizerChildren.keys()}get pages(){return this.sizerChildren.entries}}Object.assign(Ui.prototype,Vi);const Ni={invisible:0,destroy:1};var Zi=Ui;r.register("pages",function(t,e,i,s,r){var n=new Zi(this.scene,t,e,i,s,r);return this.scene.add.existing(n),n}),Object(h.a)(window,"RexPlugins.UI.Pages",Zi);var Ji=i(131);const Ki=Phaser.Display.Align.TOP_LEFT;var Qi=function(t,e,i){void 0===i&&(i=!0),this.add(t),void 0===e&&(e=0);var s=this.getSizerConfig(t);return s.parent=this,s.align=Ki,s.padding=ct(e),s.expand=!0,this.textObject=t,this.textObjectType=Object(Ji.a)(t)?0:1,s.preOffsetY=0,s.offsetY=0,i&&(this.textMask=new $t.a(this.textObject),this.textObject.setMask(this.textMask.createGeometryMask()),this.add(this.textMask)),this},qi=function(t){return void 0!==t&&(this.text=t),0===this.textObjectType?this.lines=this.textObject.getWrappedText(this.text):this.lines=this.textObject.getPenManager(this.text,this.lines),this.updateTextObject(),this},$i=function(t){return(t-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},ts=function(t){return t*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},es=function(t){var e,i=t+this.textObject.style.maxLines;if(0===this.textObjectType)e=this.lines.slice(t,i).join("\n");else{var s=this.lines.getLineStartIndex(t),r=this.lines.getLineEndIndex(i-1);e=this.lines.getSliceTagText(s,r,!0)}return e},is=function(){var t=this.textObject.rexSizer;this.textObject.y+=t.offsetY-t.preOffsetY,t.preOffsetY=t.offsetY,this.resetChildPositionState(this.textObject)},ss=function(){var t=Math.max(Math.floor($i.call(this,-this.textOY)),0),e=ts.call(this,t)+this.textOY;return this.textObject.setText(es.call(this,t)),this.textObject.rexSizer.offsetY=e,is.call(this),this},rs=function(t,e,i){if(t.width!==e||t.height!==i){t.setFixedSize(e,i);var s=t.style,r=Math.max(e,0),n=Math.ceil($i.call(this,i))+1;0===this.textObjectType?(s.wordWrapWidth=r,s.maxLines=n):(s.wrapWidth=r,s.maxLines=n),this.setText()}};const ns=Phaser.Display.Align.In.QuickSet;var hs={setTextObject:Qi,setText:qi,updateTextObject:ss,layout:function(t,e,i){if(this.rexSizer.hidden)return this;var s,r,n;this.layoutInit(t),void 0===e&&(e=this.minWidth),void 0===i&&(i=this.minHeight),this.resize(e,i);var h,o,a,l,d=this.left,c=this.top;return(s=this.textObject).rexSizer.hidden||(h=d+(n=(r=s.rexSizer).padding).left,o=c+n.top,a=this.width-n.left-n.right,l=this.height-n.top-n.bottom,rs.call(this,s,a,l),U.a.setPosition(h,o).setSize(a,l),ns(s,U.a,r.align),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)),r.preOffsetY=0,is.call(this)),this.layoutBackgrounds(),this}};const os=Phaser.Utils.Objects.IsPlainObject,as=Phaser.Utils.Objects.GetValue;class ls extends et{constructor(t,e,i,s,r,n){os(e)?(e=as(n=e,"x",0),i=as(n,"y",0),s=as(n,"width",void 0),r=as(n,"height",void 0)):os(s)&&(s=as(n=s,"width",void 0),r=as(n,"height",void 0)),super(t,e,i,s,r,n),this.type="rexTextBlock",this.textObject=void 0,this.textMask=void 0,this.textObjectType=void 0,this.lines=void 0,this.text=as(n,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode(as(n,"clamplTextOY",!0));var h=as(n,"background",void 0),o=as(n,"text",void 0);void 0===o&&(o=ds(t));var a=as(n,"textMask",!0),l=as(n,"space",void 0);h&&this.addBackground(h),this.setTextObject(o,l,a)}destroy(t){this.scene&&(this.textObject=void 0,this.textMask=void 0,void 0===this.lines||(0===this.textObjectType?this.lines.length=0:this.lines.destroy()),super.destroy(t))}setClampMode(t){return this.clampTextOYMode=t,this}get textLineHeight(){var t=this.textObject.style;return t.metrics.fontSize+t.strokeThickness}get textLineSpacing(){return this.textObject.lineSpacing}get linesCount(){return void 0===this.lines?0:0===this.textObjectType?this.lines.length:this.lines.linesCount}get visibleLinesCount(){return Math.floor($i.call(this,this.textObject.height))}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return ts.call(this,this.linesCount)}get textObjectHeight(){return this.textObject.height}get textVisibleHeight(){var t=this.textHeight,e=this.textObjectHeight;return t>e?t-e:0}textOYExceedTop(t){return void 0===t&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return void 0===t&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var e=this.topTextOY,i=this.bottomTextOY,s=this.textOYExceedTop(t),r=this.textOYExeceedBottom(t);this.clampTextOYMode&&(this.visibleLinesCount>this.linesCount?t=0:s?t=e:r&&(t=i)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),s&&(this.execeedTopState||this.emit("execeedtop",this,t,e)),this.execeedTopState=s,r&&(this.execeedBottomState||this.emit("execeedbottom",this,t,i)),this.execeedBottomState=r}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return 0===t?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}}var ds=function(t){return t.add.text(0,0,"")};Object.assign(ls.prototype,hs);var cs=ls;r.register("textBlock",function(t,e,i,s,r,n){var h=new cs(this.scene,t,e,i,s,r,n);return this.scene.add.existing(h),h}),Object(h.a)(window,"RexPlugins.UI.TextBlock",cs);var us=function(t){Object.defineProperty(t,"childOY",{configurable:!0,get:function(){return t.textOY},set:function(e){t.textOY=e}}),Object.defineProperty(t,"topChildOY",{get:function(){return t.topTextOY}}),Object.defineProperty(t,"bottomChildOY",{get:function(){return t.bottomTextOY}})},ps=function(t){return this.childrenMap.child.setText(t),this.resizeController(),this},gs=function(t){return this.setText(this.text+t),this};const vs=Phaser.Utils.Objects.GetValue;class fs extends Ke{constructor(t,e){void 0===e&&(e={});var i=vs(e,"text",void 0),s=vs(e,"textWidth",void 0),r=vs(e,"textHeight",void 0),n=vs(e,"textMask",!0),h=vs(e,"content",""),o=new cs(t,{width:s,height:r,text:i,textMask:n,content:h,clamplTextOY:vs(e,"clamplChildOY",!1)}),a=void 0===s?1:0,l=void 0===r;us(o),e.scrollMode=0,e.type="rexTextArea",e.child={gameObject:o,proportion:a,expand:l};var d=vs(e,"space",void 0);d&&(d.child=d.text),super(t,e),this.addChildrenMap("text",i)}get text(){return this.childrenMap.child.text}get linesCount(){return this.childrenMap.child.linesCount}}var xs={setText:ps,appendText:gs};Object.assign(fs.prototype,xs);var bs=fs;r.register("textArea",function(t){var e=new bs(this.scene,t);return this.scene.add.existing(e),e}),Object(h.a)(window,"RexPlugins.UI.TextArea",bs);const ms=Phaser.Utils.Objects.GetValue,ys=Phaser.Display.Align.TOP_LEFT;var Cs=function(t,e,i){t.setOrigin&&t.setOrigin(0),this.add(t);var s,r,n=this.getSizerConfig(t);if(n.parent=this,n.align=ys,n.expand=e,this.child=t,!0===i?(s=!0,r=0):!1===i?s=!1:(s=ms(i,"mask",!0),r=ms(i,"padding",0)),s){var h=new $t.a(this,0,r);this.childMask=h.createGeometryMask(),this.add(h)}return this},ws=function(){if(this.rexSizer.hidden)return 0;var t=this.child;return t.rexSizer.hidden?0:0===this.scrollMode?t.isRexSizer?Math.max(t.minWidth,t.childrenWidth):t.width:0},Os=function(){if(this.rexSizer.hidden)return 0;var t=this.child;return t.rexSizer.hidden?0:0===this.scrollMode?0:t.isRexSizer?Math.max(t.minHeight,t.childrenHeight):t.height},Ss=i(93),Ts=function(){var t=this.left,e=this.top;0===this.scrollMode?e+=this.childOY:t+=this.childOY,this.child.setPosition(t,e),Object(Ss.a)(this,this.childMask,this.child.getAllChildren()),this.resetChildPositionState(this.child)},Ps=i(45),Ms={setChild:Cs,getChildrenWidth:ws,getChildrenHeight:Os,resetChildPosition:Ts,layout:function(t,e,i){if(this.rexSizer.hidden)return this;this.layoutInit(t),void 0===e&&(e=Math.max(this.childrenWidth,this.minWidth)),void 0===i&&(i=Math.max(this.childrenHeight,this.minHeight)),this.resize(e,i);var s,r,n=this.child;if(!n.rexSizer.hidden&&(0===this.scrollMode?s=this.width:r=this.height,n.isRexSizer?n.layout(this,s,r):Object(G.a)(n,s,r),this.resetChildPosition(),this.childMask)){var h=Object(Ps.a)(this.childMask);h.setPosition().resize(),this.resetChildPositionState(h)}return this}};const ks=Phaser.Utils.Objects.IsPlainObject,Es=Phaser.Utils.Objects.GetValue;class js extends et{constructor(t,e,i,s,r,n){ks(e)?(e=Es(n=e,"x",0),i=Es(n,"y",0),s=Es(n,"width",void 0),r=Es(n,"height",void 0)):ks(s)&&(s=Es(n=s,"width",void 0),r=Es(n,"height",void 0)),super(t,e,i,s,r,n),this.type="rexScrollableBlock",this.child=void 0,this.childMask=void 0,this._childOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setScrollMode(Es(n,"scrollMode",!0)),this.setClampMode(Es(n,"clamplChildOY",!0));var h=Es(n,"child",void 0),o=Es(n,"expand",!0),a=Es(n,"mask",void 0);this.setChild(h,o,a)}destroy(t){this.scene&&(this.child=void 0,this.childMask&&(this.childMask.destroy(),this.childMask=void 0),super.destroy(t))}setScrollMode(t){return"string"==typeof t&&(t=Ge[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return this.clampChildOYMode=t,this}get instHeight(){return 0===this.scrollMode?this.height:this.width}get instWidth(){return 0===this.scrollMode?this.width:this.height}get childHeight(){return 0===this.scrollMode?this.child.height:this.child.width}get childWidth(){return 0===this.scrollMode?this.child.width:this.child.height}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get visibleHeight(){var t=this.childHeight,e=this.instHeight;return t>e?t-e:0}childOYExceedTop(t){return void 0===t&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return void 0===t&&(t=this.childOY),t<this.bottomChildOY}get childOY(){return this._childOY}set childOY(t){var e=this.topChildOY,i=this.bottomChildOY,s=this.childOYExceedTop(t),r=this.childOYExeceedBottom(t);this.clampChildOYMode&&(this.instHeight>this.childHeight?t=0:s?t=e:r&&(t=i)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),s&&(this.execeedTopState||this.emit("execeedtop",this,t,e)),this.execeedTopState=s,r&&(this.execeedBottomState||this.emit("execeedbottom",this,t,i)),this.execeedBottomState=r}setChildOY(t){return this.childOY=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return 0===t?0:this.childOY/-t}setChildOYByPercentage(t){return this.t=t,this}}Object.assign(js.prototype,Ms);var _s=js;r.register("scrollableBlock",function(t){var e=new _s(this.scene,t);return this.scene.add.existing(e),e}),Object(h.a)(window,"RexPlugins.UI.ScrollableBlock",_s);const Is=Phaser.Utils.Objects.GetValue;var zs=class extends Ke{constructor(t,e){void 0===e&&(e={});var i=Ne(e),s=Is(e,"panel",void 0);void 0===s&&(s={}),s.scrollMode=i,s.clamplChildOY=Is(e,"clamplChildOY",!1);var r,n,h=new _s(t,s),o=Is(s,"width",void 0),a=Is(s,"height",void 0);0===i?(r=void 0===o?1:0,n=void 0===a):(r=void 0===a?1:0,n=void 0===o),e.type="rexScrollablePanel",e.child={gameObject:h,proportion:r,expand:n};var l=Is(e,"space",void 0);l&&(l.child=l.panel),super(t,e),this.addChildrenMap("panel",this.childrenMap.child)}};r.register("scrollablePanel",function(t){var e=new zs(this.scene,t);return this.scene.add.existing(e),e}),Object(h.a)(window,"RexPlugins.UI.ScrollablePanel",zs);var Ys=i(38),Rs=function(t,e){void 0===e&&(e={}),void 0===e.options&&(e.options={});var i=e.options;i.responsive=!1,i.maintainAspectRatio=!1,i.hasOwnProperty("devicePixelRatio")||(i.devicePixelRatio=1);var s=!1;void 0===i.animation?i.animation={}:!1===i.animation&&(s=!0,i.animation={});var r=i.animation;s&&(r.duration=0);var n=r.onProgress;r.onProgress=function(e){n&&n(e),t.needRedraw()};var h=r.onComplete;return r.onComplete=function(e){h&&h(e),t.needRedraw()},e};class Ls extends Ys.a{constructor(t,e,i,s,r,n){super(t,e,i,s,r),this.type="rexChart",this.chart=void 0,void 0!==n&&this.setChart(n)}destroy(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(t))}resize(t,e){if(t===this.width&&e===this.height)return this;if(super.resize(t,e),this.chart){var i=this.chart;i.height=this.canvas.height,i.width=this.canvas.width,i.aspectRatio=i.height?i.width/i.height:null,i.update()}return this}}var Ds={setChart:function(t){if(!window.Chart)return console.error("Can not find chartjs! Load chartjs in preload stage.\nscene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js');"),this;return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,Rs(this,t)),this},getChartDataset:function(t){if(void 0!==this.chart){if("string"!=typeof t)return this.chart.data.datasets[t];for(var e,i=this.chart.data.datasets,s=0,r=i.length;s<r;s++)if((e=i[s]).label===t)return e}},getChartData:function(t,e){var i=this.getChartDataset(t);if(void 0!==i){if("string"==typeof e&&-1===(e=this.chart.data.labels.indexOf(e)))return;return i.data[e]}},setChartData:function(t,e,i){if(void 0===this.chart)return this;var s=this.getChartDataset(t);if("string"==typeof e&&-1===(e=this.chart.data.labels.indexOf(e)))return this;return s.data[e]=i,this},updateChart:function(){if(void 0===this.chart)return this;this.chart.update()}};Object.assign(Ls.prototype,Ds);var Bs=Ls;r.register("chart",function(t,e,i,s,r){var n=new Bs(this.scene,t,e,i,s,r);return this.scene.add.existing(n),n}),Object(h.a)(window,"RexPlugins.UI.Chart",Bs);var Hs=i(101).a;r.register("video",function(t,e,i,s,r){var n=new Hs(this.scene,t,e,i,s,r);return this.scene.add.existing(n),n}),Object(h.a)(window,"RexPlugins.UI.Video",Hs);var Ws=i(100).a;r.register("videoCanvas",function(t,e,i,s,r){var n=new Ws(this.scene,t,e,i,s,r);return this.scene.add.existing(n),n}),Object(h.a)(window,"RexPlugins.UI.VideoCanvas",Ws);var Xs=i(103).a;r.register("youtubePlayer",function(t,e,i,s,r){var n=new Xs(this.scene,t,e,i,s,r);return this.scene.add.existing(n),n}),Object(h.a)(window,"RexPlugins.UI.YoutubePlayer",Xs);r.register("tap",function(t,e){return new ni(t,e)}),Object(h.a)(window,"RexPlugins.UI.Tap",ni);r.register("press",function(t,e){return new oi(t,e)}),Object(h.a)(window,"RexPlugins.UI.Press",oi);var Vs=function(t,e){void 0===e&&(e=!0),d(t).hidden=e,t.setVisible(!e)},Fs=function(t,e){void 0===e&&(e=!0),Vs(t,!e)},As=i(206);class Gs extends Phaser.Plugins.ScenePlugin{constructor(t,e){super(t,e),this.add=new r(t)}}var Us={hide:Vs,show:Fs,edit:As.a};Object.assign(Gs.prototype,Us);e.default=Gs}]).default});